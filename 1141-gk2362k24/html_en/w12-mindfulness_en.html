<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Breaths in the Digital Age: Science, Mindfulness, and AI Collaboration</title>
    <script src="../../sidebar_tools/sidebar.js"></script>
    <style>
        /* ============================================
           CSS Variables (from style_1116.md)
           ============================================ */
        :root {
            --bg-color: #F5F4F0;        /* Warm, off-white, like aged paper */
            --text-color: #3D3A37;      /* Dark, soft brown/gray */
            --accent-color: #9A948C;    /* Muted stone gray */
            --header-bg: #EAEBE6;       /* Very light, muted moss */
            --line-color: #d1d1c2;      /* For borders and lines */
            --highlight-color: #8c867b; /* For highlights */
            --color-red: hsl(0, 40%, 65%); /* Red color for deadlines/important dates */
            --current-blue: #6B8BA4;    /* Low saturation blue for links (from style_1116.md) */
            --font-family: Calibri, Candara, Segoe, 'Segoe UI', Optima, Arial, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
        }

        /* Slide container */
        .slides-container {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: var(--bg-color);
        }

        /* Base slide styles */
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 5vw;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
            transform: scale(0.98);
            text-align: center;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
            font-family: var(--font-family);
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
            z-index: 1;
        }

        .slide.hidden {
            display: none !important;
        }

        .slide.scrollable {
            justify-content: flex-start;
        }

        /* Heading levels */
        h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 400;
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        h2 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 400;
            color: var(--text-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--header-bg);
        }

        h3 {
            font-size: clamp(1.8rem, 4.5vw, 3rem);
            font-weight: 300;
            color: var(--text-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--header-bg);
        }

        h4 {
            font-size: clamp(1.6rem, 3vw, 2rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 0.8rem;
        }

        h5 {
            font-size: clamp(1.2rem, 2vw, 1.4rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 0.6rem;
        }

        p {
            font-size: clamp(1.2rem, 2.5vw, 1.75rem);
            color: var(--text-color);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .slide-subtitle {
            color: var(--accent-color);
            font-size: clamp(1.2rem, 3vw, 1.75rem);
            font-weight: 400;
            margin-top: -1rem;
        }

        /* Navigation system */
        .nav {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 98%;
            left: 1%;
            display: flex;
            justify-content: space-between;
            z-index: 1002;
            pointer-events: none;
        }

        .nav-btn {
            pointer-events: all;
            background: none;
            border: 1px solid var(--line-color);
            color: var(--accent-color);
            font-size: clamp(1.5rem, 3vw, 2rem);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0.4;
            font-family: var(--font-family);
        }

        .nav-btn:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
            opacity: 1;
        }

        /* Content layout system */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            align-items: start;
        }

        .content-section {
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            border: 1px solid var(--line-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            font-family: var(--font-family);
        }

        .content-section h4 {
            font-size: clamp(1.6rem, 3vw, 2rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .content-section p {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        .content-section.text-left {
            text-align: left;
        }

        /* Two-column layout */
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            align-items: start;
        }

        .two-columns > div {
            width: 100%;
        }

        .two-columns h4 {
            font-size: clamp(1.344rem, 2.52vw, 1.68rem);
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        .two-columns p {
            font-size: clamp(1.2096rem, 2.268vw, 1.512rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        /* Text-heavy container */
        .bunch-word-container {
            display: flex;
            flex-direction: column;
            align-items: center !important;
            justify-content: flex-start !important;
            padding: 1.5vh 2vw;
            overflow: visible; /* Remove scrollbar, let content expand naturally */
            text-align: left;
            height: auto; /* Auto height for responsive design */
            min-height: 100%; /* Ensure at least fills viewport height */
            box-sizing: border-box;
            font-family: var(--font-family);
            direction: ltr;
        }

        .bunch-word-container.full-page-scroll {
            height: auto;
            min-height: 100%;
            overflow: visible;
            padding-bottom: 5vh;
        }

        .bunch-word-container > div {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .bunch-word-container h2 {
            font-size: clamp(1.8rem, 3.5vw, 2.2rem);
            margin-bottom: 1.5vh;
            text-align: center;
            width: 100%;
            color: var(--highlight-color);
            font-weight: 400;
        }

        /* List system */
        ul {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 800px;
            margin: 1rem 0;
            font-family: var(--font-family);
        }

        ul li {
            margin-bottom: 15px;
            position: relative;
            padding-left: 1.5em;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
            line-height: 1.6;
            color: var(--text-color);
        }

        ul li::before {
            content: '- ';
            color: var(--accent-color);
            font-weight: bold;
            display: inline-block;
            position: absolute;
            left: 0;
        }

        ol {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 800px;
            margin: 1rem 0;
            font-family: var(--font-family);
            counter-reset: list-item 0;
        }

        ol li {
            margin-bottom: 15px;
            position: relative;
            padding-left: 2em;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
            line-height: 1.6;
            color: var(--text-color);
            counter-increment: list-item;
        }

        ol li::before {
            content: counter(list-item) '. ';
            color: var(--accent-color);
            font-weight: bold;
            display: inline-block;
            position: absolute;
            left: 0;
        }

        /* Step card system */
        .step-card {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            border: 1px solid var(--line-color);
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            text-align: center;
            font-family: var(--font-family);
            max-width: 800px;
            margin: 0 auto;
        }

        .step-card h4 {
            font-size: clamp(1.6rem, 3vw, 2rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .step-card p {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        .step-card.text-left {
            text-align: left;
        }

        .step-card.text-center {
            text-align: center;
        }

        /* Embedded content system */
        .embedded-content {
            width: 100%;
            height: 600px;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background-color: var(--header-bg);
            border: 2px solid var(--line-color);
        }

        .embedded-content iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background-color: white;
        }

        /* Spotify player specific styles (smaller height) */
        .embedded-content.spotify {
            height: 152px;
            max-width: 600px;
            margin: 20px auto;
            overflow: visible;
            border: none;
            box-shadow: none;
            background-color: transparent;
            border-radius: 0;
            padding: 0;
        }

        .embedded-content.spotify iframe {
            border-radius: 12px;
            height: 152px !important;
            width: 100% !important;
        }

        /* Spotify player in two-column layout */
        .two-columns .embedded-content.spotify {
            max-width: 100%;
            margin: 0;
            width: 100%;
        }

        /* iframe slide system */
        .slide.iframe-slide {
            padding: 0;
            justify-content: center !important;
            align-items: center !important;
        }

        .slide.iframe-slide .embedded-content {
            width: 100%;
            height: 100vh;
            margin: 0;
            border-radius: 0;
            box-shadow: none;
            border: none;
        }

        .slide.iframe-slide .embedded-content.html {
            width: 100%;
            height: 100vh;
            margin: 0;
            border-radius: 0;
            box-shadow: none;
            border: none;
        }

        /* Video slide system */
        .slide.video-slide {
            padding: 2vw;
            align-items: center !important;
            justify-content: center !important;
        }

        .slide.video-slide h3 {
            width: 100%;
            max-width: none;
            text-align: center;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 400;
            color: var(--text-color);
        }

        .video-container {
            width: 80%;
            max-width: 800px;
            height: auto;
            aspect-ratio: 16 / 9;
            margin-top: 20px;
            border: 1px solid var(--line-color);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        /* Prompt block */
        /* Prompt block wrapper container */
        .prompt-wrapper {
            max-width: 900px;
            margin: 1.5rem auto;
            border: 1px solid var(--line-color); /* #d1d1c2 - earth tone border */
            border-radius: 8px;
            overflow: hidden;
            background: rgba(245, 244, 240, 0.5); /* var(--bg-color) 50% opacity - earth tone background */
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.08); /* earth tone shadow */
        }

        /* Prompt header area */
        .prompt-header {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding: 0.8rem 1rem;
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white (neutral earth tone) */
            border-bottom: 1px solid var(--line-color); /* #d1d1c2 - earth tone border */
        }

        .prompt-block {
            background: rgba(234, 235, 230, 0.3); /* var(--header-bg) 30% opacity - earth tone background */
            border-left: 4px solid var(--accent-color); /* #9A948C - earth tone accent border */
            padding: 1.5rem;
            margin: 0;
            border-radius: 0;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.9rem, 1.8vw, 1.2rem);
            line-height: 1.8;
            color: var(--text-color); /* #3D3A37 - Dark, soft brown/gray (earth tone) */
            white-space: pre-wrap; /* Preserve line breaks and spaces */
            word-wrap: break-word;
            overflow-x: auto;
            overflow-y: auto;
            max-height: 70vh;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin; /* Firefox scrollbar style */
            scrollbar-color: var(--accent-color) var(--bg-color); /* thumb track */
        }

        /* Prompt block Scrollbar styles - using earth tones (consistent with code-block) */
        .prompt-block::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        .prompt-block::-webkit-scrollbar-track {
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white (earth tone track) */
            border-radius: 6px;
        }

        .prompt-block::-webkit-scrollbar-thumb {
            background: var(--accent-color); /* #9A948C - Muted stone gray (earth tone thumb) */
            border-radius: 6px;
            border: 2px solid var(--bg-color);
        }

        .prompt-block::-webkit-scrollbar-thumb:hover {
            background: var(--highlight-color); /* #8c867b - deeper earth tone (hover state) */
        }

        /* Markdown format styles */
        .prompt-block h2 {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            font-weight: 600;
            color: var(--accent-color);
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--line-color);
            font-family: 'Courier New', monospace;
        }

        .prompt-block h2:first-child {
            margin-top: 0;
        }

        .prompt-block strong {
            color: var(--accent-color);
            font-weight: 600;
        }

        .prompt-block ul {
            list-style: none;
            padding-left: 0;
            margin: 1rem 0;
        }

        .prompt-block li {
            margin-bottom: 0.6rem;
            padding-left: 1.2em;
            position: relative;
        }

        .prompt-block li::before {
            content: '- ';
            color: var(--accent-color);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* Code block */
        .code-block {
            background: rgba(245, 244, 240, 0.5); /* var(--bg-color) 50% opacity - earth tone background */
            border: 1px solid var(--line-color); /* #d1d1c2 - earth tone border */
            border-radius: 8px;
            padding: 0;
            margin: 1rem 0;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            color: var(--text-color); /* #3D3A37 - Dark, soft brown/gray (earth tone) */
            max-width: 100%;
            width: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.08); /* earth tone shadow */
        }

        .code-block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 1rem;
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white, like aged paper (neutral earth tone) */
            border-bottom: 1px solid var(--line-color); /* #d1d1c2 - earth tone border */
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }

        .code-block-header p {
            margin: 0;
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: var(--text-color); /* #3D3A37 - Dark, soft brown/gray (earth tone) */
            font-family: var(--font-family);
        }

        .code-block pre {
            margin: 0;
            padding: 1rem;
            overflow-x: auto;
            overflow-y: auto;
            max-height: 70vh;
            background: rgba(234, 235, 230, 0.3); /* var(--header-bg) 30% opacity - earth tone background */
            font-family: 'Courier New', monospace;
            font-size: clamp(0.75rem, 1.2vw, 0.95rem);
            line-height: 1.5;
            -webkit-overflow-scrolling: touch;
        }

        /* Scrollbar styles - using earth tones */
        .code-block pre::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        .code-block pre::-webkit-scrollbar-track {
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white (earth tone track) */
            border-radius: 6px;
        }

        .code-block pre::-webkit-scrollbar-thumb {
            background: var(--accent-color); /* #9A948C - Muted stone gray (earth tone thumb) */
            border-radius: 6px;
            border: 2px solid var(--bg-color);
        }

        .code-block pre::-webkit-scrollbar-thumb:hover {
            background: var(--highlight-color); /* #8c867b - deeper earth tone (hover state) */
        }

        /* Firefox scrollbar styles */
        .code-block pre {
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) var(--bg-color); /* thumb track */
        }

        .code-block code {
            display: block;
            white-space: pre;
            word-wrap: normal;
            overflow-wrap: normal;
            color: var(--text-color);
            background: transparent;
            padding: 0;
            border-radius: 0;
            font-family: 'Courier New', monospace;
        }

        /* Copy button - using earth tones */
        .copy-btn {
            background: rgba(154, 148, 140, 0.1); /* var(--accent-color) 10% opacity - earth tone background */
            border: 1px solid var(--accent-color); /* #9A948C - Muted stone gray (earth tone border) */
            color: var(--accent-color); /* #9A948C - earth tone text */
            font-size: clamp(0.85rem, 1.5vw, 1rem);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-family);
            opacity: 0.9;
        }

        .copy-btn:hover {
            background-color: var(--accent-color); /* #9A948C - earth tone background */
            color: var(--bg-color); /* #F5F4F0 - Warm, off-white (earth tone text) */
            opacity: 1;
            border-color: var(--highlight-color); /* #8c867b - deeper earth tone border */
        }

        .copy-btn:active {
            transform: scale(0.98);
            background-color: var(--highlight-color); /* #8c867b - deeper earth tone */
        }

        .copy-btn.copied {
            background-color: var(--highlight-color); /* #8c867b - deeper earth tone background */
            color: var(--bg-color); /* #F5F4F0 - Warm, off-white (earth tone text) */
            border-color: var(--highlight-color);
            opacity: 1;
        }

        .copy-btn svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        code {
            background: rgba(0, 0, 0, 0.05);
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: var(--accent-color);
        }

        /* SVG graphics system */
        .svg-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: auto;
        }

        .svg-responsive {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
        }

        /* Slide image style system - conforms to style_1116.md */
        .slide-image {
            max-width: 100%;
            max-height: 60vh;
            height: auto;
            border: 1px solid var(--line-color); /* #d1d1c2 - earth tone border */
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.1); /* earth tone shadow */
            object-fit: contain;
            margin: 1rem 0;
            display: block;
        }

        /* Image grid system - conforms to style_1116.md */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px; /* Fixed 20px spacing between images */
            width: 100%;
            max-width: 900px;
            margin: 9rem auto 2rem; /* Further increase top margin to avoid overlap with prompt */
            padding: 0 2vw;
            box-sizing: border-box;
        }

        /* Image container - fixed size, 5% larger than image, scaled down 30% */
        .image-container {
            width: 100%;
            max-width: 420px; /* 600px * 0.7 = 420px (scaled down 30%) */
            margin: 0 auto;
            padding: 2.5%; /* 2.5% top/bottom/left/right, total 5% */
            background: var(--bg-color); /* earth tone background */
            border: 1px solid var(--line-color); /* earth tone border */
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.1); /* earth tone shadow */
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            /* Remove transform: scale, use scaled-down size directly so gap displays correctly */
        }

        .image-grid .image-container {
            padding: 2.5%;
        }

        .image-grid .slide-image {
            margin: 0;
            width: 100%;
            height: auto;
            max-height: none;
            border: none; /* Remove image border, provided by container */
            border-radius: 4px;
            box-shadow: none; /* Remove image shadow, provided by container */
            display: block;
        }

        /* Responsive design */
        @media (max-width: 767px) {
            .nav {
                width: 95%;
                left: 2.5%;
            }

            .nav-btn {
                width: 44px;
                height: 44px;
                font-size: clamp(1.2rem, 2.5vw, 1.6rem);
                opacity: 0.6;
            }

            .two-columns, .bunch-word-container, .content-grid {
                grid-template-columns: 1fr;
            }

            .two-columns > div, .content-section {
                width: 100%;
            }

            .slide.video-slide .video-container {
                margin: 10px 0;
                width: 90%;
                max-width: 450px;
            }

            .bunch-word-container {
                padding: 2vh 3vw;
            }

            .bunch-word-container h2 {
                font-size: clamp(1.3rem, 3vw, 1.6rem);
                margin-bottom: 2vh;
                margin-top: 1vh;
            }

            .step-card {
                padding: 1.5rem;
            }

            .prompt-wrapper {
                margin: 1rem auto;
                border-radius: 6px;
            }

            .prompt-header {
                padding: 0.6rem 0.8rem;
            }

            .prompt-block {
                padding: 1rem;
                font-size: clamp(0.85rem, 1.5vw, 1rem);
            }

            .svg-container {
                overflow-x: auto;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .svg-responsive {
                min-width: 100%;
                min-height: 100%;
            }

            .slide-image {
                max-width: 95%;
                max-height: 50vh;
            }

            .image-grid {
                gap: 20px; /* Mobile also uses 20px spacing */
                padding: 0 1vw;
                margin: 6rem auto 1.5rem; /* Further increase top margin to avoid overlap with prompt */
            }

            .image-container {
                max-width: 100%;
                padding: 2.5%;
                /* Remove transform: scale, use scaled-down size directly */
            }

            .code-block {
                margin: 1rem 0;
                border-radius: 6px;
            }

            .code-block-header {
                padding: 0.6rem 0.8rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .code-block-header p {
                font-size: clamp(0.9rem, 1.8vw, 1rem);
            }

            .copy-btn {
                width: 100%;
                justify-content: center;
                padding: 0.6rem;
                font-size: clamp(0.8rem, 1.5vw, 0.95rem);
            }

            .code-block pre {
                padding: 0.8rem;
                font-size: clamp(0.7rem, 1.1vw, 0.85rem);
                max-height: 60vh;
            }
        }

        @media (min-width: 768px) and (max-width: 1024px) {
            .two-columns, .content-grid {
                grid-template-columns: 1fr 1fr;
                gap: 3vw;
            }
        }

        /* Special styles */
        .highlight-box {
            background: rgba(154, 148, 140, 0.1);
            border: 2px solid var(--accent-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            max-width: 800px;
        }

        .emoji-large {
            font-size: clamp(2rem, 4vw, 3rem);
            margin: 0 0.5rem;
        }

        .checklist {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 700px;
            margin: 1rem auto;
        }

        .checklist li {
            margin-bottom: 1rem;
            padding-left: 2.5em;
            position: relative;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
        }

        .checklist li::before {
            content: '☐';
            position: absolute;
            left: 0;
            font-size: 1.5em;
            color: var(--accent-color);
        }
    </style>
</head>
<body>
    <div class="slides-container">
        <!-- Slide 1: Course Cover -->
        <section class="slide active">
            <h1>Deep Breaths in the Digital Age</h1>
            <p class="slide-subtitle">From Brain Science Principles to Building Your Custom Relaxation App</p>
        </section>

        <!-- Introduction to Mindfulness -->
        <section class="slide">
            <h2>Etymology of Mindfulness</h2>
            <ul>
                <li><strong>Etymology</strong>: Modern English "Mindfulness" corresponds to the ancient Indian Pali word "Sati"</li>
                <li><strong>Original meaning of Sati</strong>: Memory, recollection, remembrance</li>
                <li><strong>Core concept</strong>: "Remember the present moment," maintaining continuous awareness of current physical and mental phenomena</li>
                <li><strong>Characteristic</strong>: Dynamic memory, emphasizing the continuity of awareness in every moment</li>
            </ul>
        </section>

        <!-- Mindfulness is not exclusive to Buddhism -->
        <section class="slide scrollable">
            <h2>Multicultural Background of Mindfulness</h2>
            <div class="bunch-word-container full-page-scroll">
                <div>
                    <div class="content-section" style="margin-top: 2rem; margin-bottom: 1.5rem;">
                        <h4>Vedic and Hindu Background</h4>
                        <ul>
                            <li>Buddhism was deeply influenced by Vedic philosophy</li>
                            <li>The Buddha was born into a Hindu family</li>
                            <li>Early philosophical discussions had profound dialogue with Upanishadic thought</li>
                            <li>Both emphasize transcending superficial sensory experience through insight</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color);">
                            Reference: <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC10063990/" target="_blank" style="color: var(--accent-color); text-decoration: underline;">PMC - Mindfulness Research</a>
                        </p>
                    </div>



                    <div class="content-section">
                        <h4>Zen Buddhism and Breath Counting</h4>
                        <ul>
                            <li>Mindful breathing developed into "Chan" (Zen) in China</li>
                            <li>Evolved into "Zen" in Japan</li>
                            <li>Japanese Zen developed "Susokukan" (breath counting meditation)</li>
                            <li>Emphasizes unifying will and breath through counting</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color);">
                            Reference: <a href="https://plato.stanford.edu/entries/japanese-zen/#TheAdjMin" target="_blank" style="color: var(--accent-color); text-decoration: underline;">Stanford Encyclopedia - Japanese Zen</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section class="slide">
            <h2>From Religious Concept to Psychological Term</h2>
                <ul>
                    <li><strong>1881</strong>: British judge in Sri Lanka Thomas William Rhys Davids first translated "Sati" as "Mindfulness"</li>
                    <li><strong>Historical significance</strong>: Transformed religious concepts into secular vocabulary describing psychological states</li>
                    <li><strong>Other translations</strong>: Also translated as "Attention" or "Self-possession"</li>
                    <li><strong>Final standard</strong>: Mindfulness became the mainstream translation</li>
                </ul>
                <p style="margin-top: 1.5rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color); text-align: left;">
                    Reference: <a href="https://psychcentral.com/lib/a-brief-history-of-mindfulness-in-the-usa-and-its-impact-on-our-lives" target="_blank" style="color: var(--accent-color); text-decoration: underline;">PsychCentral - A Brief History of Mindfulness</a>
                </p>
            </div>
        </section>


        <!-- From Cognitive Neuroscience Perspective -->
        <section class="slide scrollable">
            <h2>From Psychology to Cognitive Neuroscience</h2>
            <div class="two-columns" style="margin-top: 2rem; align-items: center;">
                <div>
                    <ul>
                        <li><strong>Key figure</strong>: Molecular biology PhD Jon Kabat-Zinn</li>
                        <li><strong>Background</strong>: Encountered Buddhist philosophy and meditation during studies at MIT</li>
                        <li><strong>1979</strong>: Founded the "Stress Reduction Clinic" at UMass Medical School</li>
                        <li><strong>MBSR</strong>: Developed "Mindfulness-Based Stress Reduction" program</li>
                    </ul>
                </div>
                <div>
                    <img src="../../pic/w12/book-kabat-zinn.png" alt="Jon Kabat-Zinn" class="svg-responsive" style="width: 100%; height: auto; border-radius: 8px;">
                </div>
            </div>
        </section>

        <!-- Insert YouTube video -->
        <section class="slide video-slide">
            <h4>Father of Contemporary Mindfulness—Dr. Kabat-Zinn and Taiwan Mindfulness Workshop Highlights</h4>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/BKmzAdEZt0M"
                        title="YouTube video player"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
            </div>
        </section>

        <!-- Slide introducing mindful breathing -->
        <section class="slide">
            <h2>Mindful Breathing</h2>
            <div style="max-width: 800px; margin-top: 2rem;">
                <p>Mindful breathing is a breathing practice
                    <br>aimed at helping people relax body and mind, improve attention, and reduce stress</p>
            </div>
        </section>

        <!-- Slide 4: Is this mysticism? No, this is medicine -->
        <section class="slide scrollable">
            <h2>Physiological Mechanisms Behind Breathing (Physiology)</h2>
            <div class="two-columns" style="margin-top: 2rem;">
                <div class="content-section">
                    <h4>Sympathetic Nervous System<br>(Sympathetic Nervous System, SNS)</h4>
                    <p><strong>Accelerator</strong></p>
                    <h5>"Fight or Flight"</h5>
                    <p>When perceiving threats, causes pupil dilation, increased heart rate, bronchial dilation, digestive inhibition, and prompts the adrenal glands to release cortisol and adrenaline/epinephrine.</p>
                </div>
                <div class="content-section">
                    <h4>Parasympathetic Nervous System<br>(Parasympathetic Nervous System, PNS)</h4>
                    <p><strong>Brake</strong></p>
                    <h5>"Rest and Digest"</h5>
                    <p>When the body is at rest, causes pupil constriction, decreased heart rate, bronchial constriction, enhanced digestion, and prompts the parasympathetic nervous system to release acetylcholine.</p>
                    <p style="margin-top: 1rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color);">
                        Reference: <a href="https://www.utoledo.edu/studentaffairs/counseling/anxietytoolbox/breathingandrelaxation.html" target="_blank" style="color: var(--accent-color); text-decoration: underline;">UToledo - Breathing and Relaxation</a>
                    </p>
                </div>
            </div>
        </section>

        <!-- Slide 5: Why "long exhalation"? -->
        <section class="slide">
            <h2>Why "Long Exhalation"?</h2>
            <h4>The Secret of the Vagus Nerve</h4>
            <div style="max-width: 800px; margin-top: 2rem;">
                <p style="font-size: clamp(1.2rem, 2.2vw, 1.6rem); margin-bottom: 1.5rem;">
                    Slow exhalation → Stimulates vagus nerve → Brain receives safety signal → Heart rate slows.
                </p>
                <div class="highlight-box" style="margin: 2rem auto;">
                    <p style="font-size: clamp(1.4rem, 2.5vw, 1.9rem); text-align: center; margin: 0;">
                        <strong style="color: var(--accent-color);">Golden Formula</strong><br>
                        Exhalation time > Inhalation time = Activate relaxation mode
                    </p>
                </div>
            </div>
        </section>
        <!-- Vagus nerve -->
        <section class="slide scrollable">
            <div class="svg-container">
                <img src="../../svg/w12-vangus-nerve.svg" alt="Vagus Nerve" class="svg-responsive">
            </div>
        </section>

        <!-- Slide 3: Micro experience -->
        <section class="slide">
            <h2>Focused Breathing Practice 90 Seconds</h2>
                <ol style="text-align: left; max-width: 500px; margin: 1.5rem auto;">
                    <li>Silence your phone, screen face down.</li>
                    <li>Close your eyes.</li>
                    <li>Do nothing, just observe your breathing.</li>
                </ol>
        </section>

        <!-- Slide 2: Is your CPU overheating? -->
        <section class="slide">
            <h2>How Many Thoughts Did You Just Have?</h2>
            <div style="max-width: 800px; margin-top: 2rem; text-align: center; width: 100%;">
                <p>That Instagram story you just saw?</p>
                <p>Homework for the next class?</p>
                <p>What did the seniors complain about this morning?</p>
            </div>
        </section>

        <!-- Self-awareness and metacognition -->
        <section class="slide">
            <h2>Self-Awareness and Metacognition</h2>
            <ul style="margin-top: 2rem;">
                <li><strong>Metacognition</strong>: Cultivating the ability to "think about thinking"</li>
                <li><strong>Cognitive defusion</strong>: Cultivating an "Observer" perspective</li>
                <li><strong>Core mechanism</strong>: Focusing on breathing creates distance between "me" and "my thoughts"</li>
            </ul>
        </section>

        <!-- Having distracting thoughts is very normal -->
        <section class="slide">
            <h1>Myths About Mindful Breathing</h1>
            <p style="margin-bottom: 1.5rem;"><strong>Common misconception</strong>: Mindfulness means "stopping thinking."</p>
            <p style="margin-bottom: 1.5rem;"><strong>Correct expectation</strong>: Mindful breathing is not about eliminating distracting thoughts, but learning to coexist with them.</p>
        </section>

        <section class="slide">
            <h2>Self-Regulation of "Focus" and "Distraction"</h2>
            <ul>
                <li><strong>Maintaining focus</strong>: Focus on breathing (dorsolateral prefrontal cortex dlPFC active)</li>
                <li><strong>Distraction</strong>: Start wandering thoughts (Default Mode Network DMN activates)</li>
                <li><strong>Metacognitive awareness</strong>: Realize you've become distracted</li>
                <li><strong>Redirect and reset</strong>: Gently bring attention back to breathing</li>
            </ul>
        </section>

        <!-- 4-7-8 Breathing Technique -->
        <section class="slide">
            <h2>4-7-8 Breathing Technique</h2>
            <ol style="text-align: left; max-width: 500px; margin: 1.5rem auto;">
                <li>Inhale for 4 seconds</li>
                <li>Hold for 7 seconds</li>
                <li>Exhale for 8 seconds</li>
                <li>Repeat 10 times</li>
            </ol>
        </section>

        <!-- Benefits of 4-7-8 Breathing -->
        <section class="slide">
            <h2>Benefits of 4-7-8 Breathing Technique</h2>
            <ul style="margin-top: 2rem;">
                <li>Effectively relieves anxiety and insomnia</li>
                <li>Suitable for use when feeling tense or anxious</li>
                <li>Improves focus</li>
                <li>Best practice time: <strong>Before bed</strong></li>
            </ul>
        </section>

        <!-- Slide 3: Micro experience -->
        <section class="slide">
            <h2>4-7-8 Breathing Practice</h2>
                <ol style="text-align: left; max-width: 500px; margin: 1.5rem auto;">
                    <li>Silence your phone, screen face down.</li>
                    <li>Close your eyes.</li>
                    <li>Do nothing, just observe your breathing.</li>
                </ol>
            <div class="embedded-content spotify">
                <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/album/0Sed2GgBXyUF4dPEynBy9v?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            </div>
        </section>
        <!-- Insert HTML breathing tool practice -->
        <section class="slide iframe-slide">
            <div class="embedded-content html">
                <iframe src="../../gen_stuff/mindful-breath.html" width="100%" height="100%" frameborder="0"></iframe>
            </div>
        </section>

        <!-- Slide 8: Use AI to help you create your own breathing website tool -->
        <section class="slide">
            <h2>Mobile Version of Mindful Breathing Web Tool</h2>
            <div class="two-columns" style="margin-top: 2rem; align-items: center;">
                <div class="content-section" style="background: var(--bg-color); border: none; box-shadow: none;">
                    <h3>Vibe Coding</h3>
                    <h5>Web application, let AI write it for you</h5>
                </div>
                <div>
                    <img src="../../pic/w12/gemini.png" alt="gemini" class="svg-responsive" style="width: 100%; height: auto; border-radius: 8px;">
                </div>
            </div>
        </section>

        <!-- Slide 9: Tool Setup -->
        <section class="slide">
            <h2>Tool Setup</h2>
            <h4 style="margin-top: 2rem; margin-bottom: 2rem;">Please open two tabs in your mobile browser (do not close them)</h4>
            <div class="content-grid" style="margin-top: 2rem;">
                <div class="content-section">
                    <h4>1. AI Engineer</h4>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">Gemini App</p>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">Gemini (gemini.google.com)</p>
                </div>
                <div class="content-section">
                    <h4>2. Code Editor (Backup)</h4>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">
                        <a href="https://codeshack.io/html-viewer/" target="_blank" style="color: var(--accent-color); text-decoration: underline;">CodeShack HTML Viewer</a>
                    </p>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">
                        <a href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml_basic" target="_blank" style="color: var(--accent-color); text-decoration: underline;">W3Schools Tryit</a>
                    </p>
                </div>
            </div>
        </section>

        <!-- Slide 12: Phase 2 - Prompt Engineering -->
        <section class="slide scrollable">
            <h2>Prompt Engineering: Creating a Web Application</h2>
            <div class="bunch-word-container">
                <div>
                    <div class="prompt-wrapper">
                        <div class="prompt-header">
                            <button class="copy-btn" onclick="copyCode(this)" data-code-id="gemini-prompt">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                <span>Copy Prompt</span>
                            </button>
                        </div>
                        <div class="prompt-block" id="gemini-prompt">You are a professional front-end engineer. Please help me write a **single-file (Single HTML file)** mindful breathing web application.

## Functional Requirements

- There is a **[textured bubble]** in the center of the screen
- This graphic will expand and contract with breathing
- Default rhythm: Inhale **[ 4 ]** seconds, Hold **[ 0 ]** seconds, Exhale **[ 6 ]** seconds
- There is a countdown timer on the bubble, and the color transitions from green during inhalation, gradually to yellow and red as the countdown progresses, with low saturation colors
- There should be text prompts on the screen showing the current state (Inhaling, Exhaling)
- Background color should be **[deep night sky black]**

## Technical Constraints

- All CSS and JavaScript must be written in the same HTML file, not separated
- The code should have clear English comments telling me where to modify the duration

Please give me the complete code that I can copy directly, and provide a link to preview the website directly in Gemini.</div>
                    </div>
                </div>
            </div>
            <!-- Insert multiple images -->
            <div class="image-grid">
                <div class="image-container">
                    <img src="../../pic/w12/1-pick-canvas.png" alt="1-pick-canvas" class="slide-image">
                </div>
                <div class="image-container">
                    <img src="../../pic/w12/2-input-prompt.png" alt="2-input-prompt" class="slide-image">
                </div>
                <div class="image-container">
                    <img src="../../pic/w12/3-in-app-browser.png" alt="3-in-app-browser" class="slide-image">
                </div>
            </div>
        </section>

        <!-- Code Example -->
        <section class="slide scrollable">
            <h2>Code Example</h2>
            <div style="max-width: 100%; width: 100%; padding: 0 2vw; margin-top: 2rem; box-sizing: border-box;">
                <div class="code-block">
                    <div class="code-block-header">
                        <button class="copy-btn" onclick="copyCode(this)" data-code-id="breathing-code">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                            <span>Copy Code</span>
                        </button>
                    </div>
                    <pre><code id="breathing-code">&lt;!DOCTYPE html&gt;
                    &lt;html lang="en"&gt;
                    &lt;head&gt;
                        &lt;meta charset="UTF-8"&gt;
                        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
                        &lt;title&gt;Mindful Breathing&lt;/title&gt;
                        &lt;style&gt;
                            /* * =========================================
                            * Part 1: Visual Style Settings (CSS)
                            * =========================================
                            */

                            :root {
                                /* Color variables - low saturation settings */
                                --color-blue: hsl(210, 40%, 60%);   /* Inhalation start color (calm) */
                                --color-yellow: hsl(45, 40%, 60%);  /* Transition color (warm) */
                                --color-red: hsl(0, 40%, 65%);      /* Pre-end alert color (steady) */

                                --bg-dark: #0b1016; /* Deep night sky black */
                                --bg-light: #1b2330; /* Slightly brighter black for gradient */

                                --bubble-size: 280px; /* Base bubble size */
                                --font-main: "Helvetica Neue", Arial, sans-serif;
                            }

                            * {
                                box-sizing: border-box;
                                margin: 0;
                                padding: 0;
                                user-select: none; /* Prevent text selection affecting experience */
                            }

                            body {
                                background: radial-gradient(circle at center, var(--bg-light) 0%, var(--bg-dark) 100%);
                                height: 100vh;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                flex-direction: column;
                                font-family: var(--font-main);
                                color: rgba(255, 255, 255, 0.85);
                                overflow: hidden;
                            }

                            /* Central container */
                            .container {
                                position: relative;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                flex-direction: column;
                            }

                            /* * Textured Bubble (The Bubble)
                            * Use multiple box-shadow layers to create glassmorphism/micro-light texture
                            */
                            .bubble {
                                width: var(--bubble-size);
                                height: var(--bubble-size);
                                border-radius: 50%;
                                background: rgba(255, 255, 255, 0.03); /* Very light transparent base */

                                /* Key: Use backdrop-filter to add texture (frosted glass effect) */
                                backdrop-filter: blur(8px);
                                -webkit-backdrop-filter: blur(8px);

                                /* Inner and outer shadows create depth */
                                box-shadow:
                                    inset 0 0 40px rgba(255, 255, 255, 0.05),
                                    0 0 20px rgba(0, 0, 0, 0.2),
                                    0 0 60px var(--current-color, var(--color-blue)); /* Dynamic glow */

                                display: flex;
                                justify-content: center;
                                align-items: center;
                                position: relative;
                                z-index: 10;

                                /* Animation transition settings: smooth breathing feel */
                                /* transform will be dynamically controlled by JS timing */
                                transition: transform ease-in-out, box-shadow 1s linear;
                            }

                            /* Countdown timer text */
                            .timer-text {
                                font-size: 5rem;
                                font-weight: 200;
                                color: #ffffff;
                                text-shadow: 0 2px 10px rgba(0,0,0,0.3);
                                font-variant-numeric: tabular-nums; /* Prevent number jumping */
                            }

                            /* Status text (Inhale, Exhale) */
                            .status-text {
                                margin-top: 40px;
                                font-size: 1.5rem;
                                letter-spacing: 4px; /* Increase letter spacing for more relaxed, comfortable look */
                                font-weight: 300;
                                opacity: 0;
                                transform: translateY(10px);
                                transition: opacity 1s ease, transform 1s ease;
                                color: var(--current-color, var(--color-blue)); /* Follow bubble color */
                            }

                            /* Status text visible class */
                            .status-text.visible {
                                opacity: 0.8;
                                transform: translateY(0);
                            }

                            /* * Background decoration: Star particles (pure visual decoration)
                            */
                            .star {
                                position: absolute;
                                background: white;
                                border-radius: 50%;
                                opacity: 0.2;
                                animation: twinkle 4s infinite ease-in-out;
                            }

                            @keyframes twinkle {
                                0%, 100% { opacity: 0.1; transform: scale(1); }
                                50% { opacity: 0.4; transform: scale(1.2); }
                            }

                        &lt;/style&gt;
                    &lt;/head&gt;
                    &lt;body&gt;

                        &lt;!-- Background star container --&gt;
                        &lt;div id="stars-container"&gt;&lt;/div&gt;

                        &lt;div class="container"&gt;
                            &lt;div class="bubble" id="bubble"&gt;
                                &lt;span class="timer-text" id="timer"&gt;Ready&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class="status-text" id="status"&gt;Ready to start&lt;/div&gt;
                        &lt;/div&gt;

                        &lt;script&gt;
                            /**
                            * =========================================
                            * Part 2: Parameter Configuration Area (modify here)
                            * =========================================
                            * Please modify the duration here (unit: seconds)
                            */
                            const CONFIG = {
                                inhaleTime: 4,  // Inhalation time
                                holdTime: 0,    // Hold time (set to 0 to skip automatically)
                                exhaleTime: 6,  // Exhalation time

                                // Bubble scaling ratio during breathing
                                scaleIn: 1.5,   // Size at end of inhalation (1.5x)
                                scaleOut: 1.0   // Size at end of exhalation (original size)
                            };

                            /**
                            * =========================================
                            * Part 3: Core Logic (JavaScript)
                            * =========================================
                            */

                            const bubble = document.getElementById('bubble');
                            const timerDisplay = document.getElementById('timer');
                            const statusDisplay = document.getElementById('status');

                            // Color conversion helper function (HSL)
                            // Map remaining time to color range: blue -&gt; yellow -&gt; red
                            function updateColor(progress) {
                                // progress: 1.0 (start) -&gt; 0.0 (end)
                                // We define HSL color wheel: blue around 210, yellow around 45, red 0

                                let hue;
                                if (progress &gt; 0.5) {
                                    // First half: blue (210) transition to yellow (45)
                                    const p = (progress - 0.5) * 2;
                                    hue = 45 + (p * (210 - 45));
                                } else {
                                    // Second half: yellow (45) transition to red (0)
                                    const p = progress * 2;
                                    hue = 0 + (p * 45);
                                }

                                // Set CSS variable for instant style update
                                const color = `hsl(${hue}, 40%, 60%)`;
                                bubble.style.setProperty('--current-color', color);
                                statusDisplay.style.color = color;
                            }

                            // Execute single phase (inhale, hold, exhale) generic function
                            function runPhase(duration, actionType, text) {
                                return new Promise(resolve =&gt; {
                                    if (duration &lt;= 0) {
                                        resolve();
                                        return;
                                    }

                                    // 1. Set status text
                                    statusDisplay.textContent = text;
                                    statusDisplay.classList.add('visible');

                                    // 2. Set animation and transition time
                                    bubble.style.transition = `transform ${duration}s ease-in-out, box-shadow 0.5s linear`;

                                    // 3. Execute scaling action
                                    if (actionType === 'inhale') {
                                        bubble.style.transform = `scale(${CONFIG.scaleIn})`;
                                    } else if (actionType === 'exhale') {
                                        bubble.style.transform = `scale(${CONFIG.scaleOut})`;
                                    }

                                    // 4. Start countdown timer
                                    let remaining = duration;
                                    timerDisplay.textContent = remaining;

                                    // Initial color reset to blue
                                    updateColor(1.0);

                                    const startTime = Date.now();
                                    const endTime = startTime + (duration * 1000);

                                    const timerInterval = setInterval(() =&gt; {
                                        const now = Date.now();
                                        const timeLeft = Math.max(0, Math.ceil((endTime - now) / 1000));
                                        const preciseProgress = Math.max(0, (endTime - now) / (duration * 1000));

                                        if (timerDisplay.textContent != timeLeft) {
                                            timerDisplay.textContent = timeLeft;
                                        }

                                        updateColor(preciseProgress);

                                        if (now &gt;= endTime) {
                                            clearInterval(timerInterval);
                                            resolve();
                                        }
                                    }, 16);
                                });
                            }

                            // Main cycle function
                            async function startBreathingCycle() {
                                while (true) { // Infinite loop
                                    // Inhale - removed "ing"
                                    await runPhase(CONFIG.inhaleTime, 'inhale', 'Inhale');

                                    // Hold
                                    if (CONFIG.holdTime &gt; 0) {
                                        await runPhase(CONFIG.holdTime, 'hold', 'Hold');
                                    }

                                    // Exhale - removed "ing"
                                    await runPhase(CONFIG.exhaleTime, 'exhale', 'Exhale');
                                }
                            }

                            // Initialize background stars
                            function initStars() {
                                const container = document.getElementById('stars-container');
                                for(let i=0; i&lt;50; i++) {
                                    const star = document.createElement('div');
                                    star.className = 'star';
                                    const xy = Math.random() * 100;
                                    const duration = Math.random() * 3 + 2;
                                    const size = Math.random() * 2 + 1;

                                    star.style.left = `${Math.random() * 100}%`;
                                    star.style.top = `${Math.random() * 100}%`;
                                    star.style.width = `${size}px`;
                                    star.style.height = `${size}px`;
                                    star.style.animationDuration = `${duration}s`;

                                    container.appendChild(star);
                                }
                            }

                            // Program entry point
                            window.onload = () =&gt; {
                                initStars();
                                setTimeout(() =&gt; {
                                    startBreathingCycle();
                                }, 1000);
                            };

                        &lt;/script&gt;
                    &lt;/body&gt;
                    &lt;/html&gt;</code></pre>
                </div>
            </div>
        </section>

        <!-- Slide 10: Web Anatomy I -->
        <section class="slide">
            <h2>Core Languages of Web Tools: HTML, CSS, JavaScript</h2>
            <div class="content-grid" style="margin-top: 2rem;">
                <div class="content-section">
                    <h4>HTML (Structure)</h4>
                    <p><strong>Function</strong>: Defines what exists (What?)</p>
                    <p style="margin-top: 1rem; font-size: clamp(1.3rem, 2.5vw, 1.8rem);">Metaphor: <strong>Skeleton</strong></p>
                </div>
                <div class="content-section">
                    <h4>CSS (Style)</h4>
                    <p><strong>Function</strong>: Defines appearance (Looks?)</p>
                    <p style="margin-top: 1rem; font-size: clamp(1.3rem, 2.5vw, 1.8rem);">Metaphor: <strong>Skin and Clothes</strong></p>
                </div>
                <div class="content-section">
                    <h4>JavaScript (Behavior)</h4>
                    <p><strong>Function</strong>: Defines how it moves (Action?)</p>
                    <p style="margin-top: 1rem; font-size: clamp(1.3rem, 2.5vw, 1.8rem);">Metaphor: <strong>Muscles and Brain</strong></p>
                </div>
            </div>
        </section>

        <!-- Slide 11: Web Anatomy II -->
        <section class="slide">
            <h2>Core Languages of Web Tools: Case Comparison</h2>
            <h4 style="margin-top: 2rem; margin-bottom: 1.5rem;">Using our breathing app as an example</h4>
            <div style="max-width: 900px; margin: 0 auto; text-align: left;">
                <div class="content-section" style="margin-bottom: 1rem;">
                    <p><strong>HTML</strong> = The existence of that "bubble" on the screen <code>&lt;div&gt;</code>.</p>
                </div>
                <div class="content-section" style="margin-bottom: 1rem;">
                    <p><strong>CSS</strong> = The background is "black".</p>
                </div>
                <div class="content-section">
                    <p><strong>JS</strong> = Controls the logic for the circle "changing color" and "expanding in 4 seconds, shrinking in 8 seconds".</p>
                </div>
            </div>
        </section>

        <section class="slide scrollable">
            <h2>Core Languages of Web Tools: Code Details</h2>
            <h4 style="margin-top: 2rem; margin-bottom: 1.5rem;">More details will be added if there are more classes</h4>
            <div class="bunch-word-container">
                <div>
                    <div class="content-section" style="margin-bottom: 1.5rem;">
                        <h4>HTML (Skeleton and Structure)</h4>
                        <p style="margin-top: 1rem; font-size: clamp(1.32rem, 2.2vw, 1.43rem);">
                            <strong>Function</strong>: Defines the "physical existence" of the webpage, determining what objects appear on screen.
                        </p>
                        <ul style="text-align: left; margin-top: 1rem;">
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div id="stars-container"&gt;</code> - Background layer for placing JS dynamically generated stars</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div class="container"&gt;</code> - Layout container ensuring content is centered on screen</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div class="bubble"&gt;</code> - Core component, circular bubble that scales with breathing</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;span id="timer"&gt;</code> - Dynamic number displaying countdown seconds</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div id="status"&gt;</code> - Prompt text displaying "Inhale / Exhale" status</li>
                        </ul>
                    </div>

                    <div class="content-section" style="margin-bottom: 1.5rem;">
                        <h4>CSS (Skin and Style)</h4>
                        <p style="margin-top: 1rem; font-size: clamp(1.32rem, 2.2vw, 1.43rem);">
                            <strong>Function</strong>: Responsible for "aesthetic experience," determining colors, texture, and animation smoothness.
                        </p>
                        <ul style="text-align: left; margin-top: 1rem;">
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>:root { --color-blue... }</code> - Defines global variables controlling breathing theme colors</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>backdrop-filter: blur(8px)</code> - Key syntax for creating "frosted glass" texture</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>box-shadow</code> - Stack multiple shadows to create bubble's 3D glow</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>transition: transform</code> - Makes JS size changes smooth rather than abrupt</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>@keyframes twinkle</code> - Defines animation rules for stars twinkling</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>JavaScript (Brain and Logic)</h4>
                        <p style="margin-top: 1rem; font-size: clamp(1.32rem, 2.2vw, 1.43rem);">
                            <strong>Function</strong>: Responsible for "time control," directing HTML transformations and calculating countdown logic.
                        </p>
                        <ul style="text-align: left; margin-top: 1rem;">
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>const CONFIG</code> - <strong>Control room</strong>, set inhalation (4s) and exhalation (6s) times here</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>runPhase()</code> - Core function handling text updates and animation commands for a single phase</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>updateColor()</code> - Mathematical calculation mapping remaining time to colors (blue→yellow→red)</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>initStars()</code> - Randomly generates star positions and twinkle speeds</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>startBreathingCycle()</code> - Uses <code>while(true)</code> to ensure breathing practice loops infinitely</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>



        <!-- Slide 14: Implementation Workflow -->
        <section class="slide hidden">
            <h2>Implementation Workflow</h2>
            <div style="max-width: 800px; margin-top: 2rem;">
                <div class="step-card" style="margin-bottom: 1rem;">
                    <h4>Step 1 (Copy)</h4>
                    <p>Click "Copy" in the top right corner of the Gemini dialog box.</p>
                </div>
                <div class="step-card" style="margin-bottom: 1rem;">
                    <h4>Step 2 (Paste)</h4>
                    <p>Switch to the W3Schools tab, select all and delete old content, paste new code.</p>
                </div>
                <div class="step-card" style="margin-bottom: 1rem;">
                    <h4>Step 3 (Run)</h4>
                    <p>Click the green <strong>Run</strong> button.</p>
                </div>
                <div class="step-card">
                    <h4>Step 4 (Experience)</h4>
                    <p>Witness the magic.</p>
                </div>
            </div>
        </section>



        <!-- Slide 16.5: Assignment Requirements -->
        <section class="slide scrollable">
            <div class="bunch-word-container">
                <div>
                    <h1>Assignment Requirements</h1>
                    <p style="margin-top: 2rem; margin-bottom: 2rem; font-size: clamp(1.1rem, 2vw, 1.4rem);">
                        Assignment submission: <a href="https://forms.gle/JhRrmnsk2kH5Mxv8A" target="_blank" style="color: var(--current-blue); text-decoration: underline;">Google Form</a> | <strong style="color: var(--color-red);">Deadline: Before 11/28 23:59</strong>
                    </p>
                    <div class="two-columns" style="margin-top: 2rem;">
                        <div class="content-section">
                            <h4>Assignment Requirements</h4>
                            <p style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);">Please make any adjustments and modifications you want based on the code example:</p>
                            <ul style="text-align: left; margin-top: 1rem; line-height: 1.8;">
                                <li style="font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>Modify the graphic</strong>: The bubble in the current code is circular. You can change it to other geometric shapes (triangle, square, star, etc.), patterns or symbols (heart, flower, cloud, etc.), or adjust colors, size, animation effects. Modify the <code>.bubble</code> style in CSS, or ask Gemini how to change the graphic.</li>
                                <li style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>Adjust breathing rhythm</strong>: According to your personal needs, modify the time parameters in the <code>CONFIG</code> object (<code>inhaleTime</code>, <code>holdTime</code>, <code>exhaleTime</code>). Common breathing rhythms include 4-0-6 (basic relaxation), 4-7-8 (deep relaxation), 5-5-5 (balanced rhythm), etc. Remember to follow the medical principle of "exhalation time > inhalation time" to help activate the parasympathetic nervous system. In your assignment, please explain the breathing rhythm you chose and the reason (e.g., suitable for pre-sleep relaxation, suitable for pre-focus preparation, etc.).</li>
                                <li style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>Add sound effects (optional, bonus points)</strong>: Add sound prompts so you can practice with eyes closed without staring at the screen. You can use Web Audio API to add sound playback functionality in JavaScript, or use sound files. It's recommended to play different prompt sounds at the start of inhalation and exhalation, using short, gentle sounds to avoid interfering with breathing rhythm. You can ask Gemini "How to play sounds in JavaScript?" or "How to use Web Audio API to generate prompt sounds?"</li>
                                <li style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>Share link and submit</strong>: After completing modifications, please share your work as a public link and paste the link to <a href="https://forms.gle/JhRrmnsk2kH5Mxv8A" target="_blank" style="color: var(--current-blue); text-decoration: underline;">Google Form</a>.</li>
                            </ul>
                        </div>
                        <div class="content-section" style="display: flex; align-items: center; justify-content: center;">
                            <img src="../../pic/w12/share-public-link.jpg" alt="GitHub Pages Share Link Example" style="width: 100%; max-width: 250px; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation buttons -->
        <div class="nav">
            <button id="prev" class="nav-btn">&#8249;</button>
            <button id="next" class="nav-btn">&#8250;</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = Array.from(document.querySelectorAll('.slide:not(.hidden)'));
            const totalSlides = slides.length;
            let currentSlide = 0;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                showSlide(currentSlide);
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                showSlide(currentSlide);
            }

            document.getElementById('next').addEventListener('click', nextSlide);
            document.getElementById('prev').addEventListener('click', prevSlide);

            // Keyboard support
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevSlide();
                }
            });

            // Touch swipe support (mobile version)
            let touchStartX = 0;
            let touchEndX = 0;

            document.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });

            document.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;

                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        // Swipe left, next slide
                        nextSlide();
                    } else {
                        // Swipe right, previous slide
                        prevSlide();
                    }
                }
            }

            // Initialize display first slide
            showSlide(0);
        });

        // Copy code function
        function copyCode(button) {
            const codeId = button.getAttribute('data-code-id');
            const codeElement = document.getElementById(codeId);

            if (!codeElement) {
                console.error('Code element not found');
                return;
            }

            // Get code text content (remove HTML entity encoding)
            let codeText = codeElement.textContent || codeElement.innerText;

            // Use Clipboard API to copy
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(codeText).then(() => {
                    // Successfully copied
                    const originalText = button.querySelector('span').textContent;
                    button.classList.add('copied');
                    button.querySelector('span').textContent = 'Copied!';

                    // Restore after 2 seconds
                    setTimeout(() => {
                        button.classList.remove('copied');
                        button.querySelector('span').textContent = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error('Copy failed:', err);
                    fallbackCopy(codeText, button);
                });
            } else {
                // Fallback: use traditional method
                fallbackCopy(codeText, button);
            }
        }

        // Fallback copy method (for older browsers)
        function fallbackCopy(text, button) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    const originalText = button.querySelector('span').textContent;
                    button.classList.add('copied');
                    button.querySelector('span').textContent = 'Copied!';

                    setTimeout(() => {
                        button.classList.remove('copied');
                        button.querySelector('span').textContent = originalText;
                    }, 2000);
                } else {
                    alert('Copy failed, please manually select and copy the code');
                }
            } catch (err) {
                console.error('Copy failed:', err);
                alert('Copy failed, please manually select and copy the code');
            }

            document.body.removeChild(textArea);
        }
    </script>
</body>
</html>

