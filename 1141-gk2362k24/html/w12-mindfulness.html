<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>數位時代的深呼吸：科學、正念與 AI 協作</title>
    <script src="../../sidebar_tools/sidebar.js"></script>
    <style>
        /* ============================================
           CSS 變數定義（來自 style_1116.md）
           ============================================ */
        :root {
            --bg-color: #F5F4F0;        /* Warm, off-white, like aged paper */
            --text-color: #3D3A37;      /* Dark, soft brown/gray */
            --accent-color: #9A948C;    /* Muted stone gray */
            --header-bg: #EAEBE6;       /* Very light, muted moss */
            --line-color: #d1d1c2;      /* For borders and lines */
            --highlight-color: #8c867b; /* For highlights */
            --color-red: hsl(0, 40%, 65%); /* Red color for deadlines/important dates */
            --current-blue: #6B8BA4;    /* Low saturation blue for links (from style_1116.md) */
            --font-family: Calibri, Candara, Segoe, 'Segoe UI', Optima, Arial, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
        }

        /* 投影片容器 */
        .slides-container {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: var(--bg-color);
        }

        /* 投影片基礎樣式 */
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 5vw;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
            transform: scale(0.98);
            text-align: center;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
            font-family: var(--font-family);
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
            z-index: 1;
        }

        .slide.hidden {
            display: none !important;
        }

        .slide.scrollable {
            justify-content: flex-start;
        }

        /* 標題層級 */
        h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 400;
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        h2 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 400;
            color: var(--text-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--header-bg);
        }

        h3 {
            font-size: clamp(1.8rem, 4.5vw, 3rem);
            font-weight: 300;
            color: var(--text-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--header-bg);
        }

        h4 {
            font-size: clamp(1.6rem, 3vw, 2rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 0.8rem;
        }

        h5 {
            font-size: clamp(1.2rem, 2vw, 1.4rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 0.6rem;
        }

        p {
            font-size: clamp(1.2rem, 2.5vw, 1.75rem);
            color: var(--text-color);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .slide-subtitle {
            color: var(--accent-color);
            font-size: clamp(1.2rem, 3vw, 1.75rem);
            font-weight: 400;
            margin-top: -1rem;
        }

        /* 導航系統 */
        .nav {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 98%;
            left: 1%;
            display: flex;
            justify-content: space-between;
            z-index: 1002;
            pointer-events: none;
        }

        .nav-btn {
            pointer-events: all;
            background: none;
            border: 1px solid var(--line-color);
            color: var(--accent-color);
            font-size: clamp(1.5rem, 3vw, 2rem);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0.4;
            font-family: var(--font-family);
        }

        .nav-btn:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
            opacity: 1;
        }

        /* 內容佈局系統 */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            align-items: start;
        }

        .content-section {
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            border: 1px solid var(--line-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            font-family: var(--font-family);
        }

        .content-section h4 {
            font-size: clamp(1.6rem, 3vw, 2rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .content-section p {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        .content-section.text-left {
            text-align: left;
        }

        /* 兩欄佈局 */
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            align-items: start;
        }

        .two-columns > div {
            width: 100%;
        }

        .two-columns h4 {
            font-size: clamp(1.344rem, 2.52vw, 1.68rem);
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        .two-columns p {
            font-size: clamp(1.2096rem, 2.268vw, 1.512rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        /* 字多版本容器 */
        .bunch-word-container {
            display: flex;
            flex-direction: column;
            align-items: center !important;
            justify-content: flex-start !important;
            padding: 1.5vh 2vw;
            overflow: visible; /* 移除 scrollbar，讓內容自然展開 */
            text-align: left;
            height: auto; /* 改為自動高度，符合響應式設計 */
            min-height: 100%; /* 確保至少填滿視窗高度 */
            box-sizing: border-box;
            font-family: var(--font-family);
            direction: ltr;
        }

        .bunch-word-container.full-page-scroll {
            height: auto;
            min-height: 100%;
            overflow: visible;
            padding-bottom: 5vh;
        }

        .bunch-word-container > div {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .bunch-word-container h2 {
            font-size: clamp(1.8rem, 3.5vw, 2.2rem);
            margin-bottom: 1.5vh;
            text-align: center;
            width: 100%;
            color: var(--highlight-color);
            font-weight: 400;
        }

        /* 列表系統 */
        ul {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 800px;
            margin: 1rem 0;
            font-family: var(--font-family);
        }

        ul li {
            margin-bottom: 15px;
            position: relative;
            padding-left: 1.5em;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
            line-height: 1.6;
            color: var(--text-color);
        }

        ul li::before {
            content: '- ';
            color: var(--accent-color);
            font-weight: bold;
            display: inline-block;
            position: absolute;
            left: 0;
        }

        ol {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 800px;
            margin: 1rem 0;
            font-family: var(--font-family);
            counter-reset: list-item 0;
        }

        ol li {
            margin-bottom: 15px;
            position: relative;
            padding-left: 2em;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
            line-height: 1.6;
            color: var(--text-color);
            counter-increment: list-item;
        }

        ol li::before {
            content: counter(list-item) '. ';
            color: var(--accent-color);
            font-weight: bold;
            display: inline-block;
            position: absolute;
            left: 0;
        }

        /* 步驟卡片系統 */
        .step-card {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            border: 1px solid var(--line-color);
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            text-align: center;
            font-family: var(--font-family);
            max-width: 800px;
            margin: 0 auto;
        }

        .step-card h4 {
            font-size: clamp(1.6rem, 3vw, 2rem);
            font-weight: 400;
            color: var(--accent-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .step-card p {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 0.8rem;
        }

        .step-card.text-left {
            text-align: left;
        }

        .step-card.text-center {
            text-align: center;
        }

        /* 嵌入式內容系統 */
        .embedded-content {
            width: 100%;
            height: 600px;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background-color: var(--header-bg);
            border: 2px solid var(--line-color);
        }

        .embedded-content iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background-color: white;
        }

        /* Spotify 播放器專用樣式（較小高度） */
        .embedded-content.spotify {
            height: 152px;
            max-width: 600px;
            margin: 20px auto;
            overflow: visible;
            border: none;
            box-shadow: none;
            background-color: transparent;
            border-radius: 0;
            padding: 0;
        }

        .embedded-content.spotify iframe {
            border-radius: 12px;
            height: 152px !important;
            width: 100% !important;
        }

        /* 雙欄中的 Spotify 播放器樣式 */
        .two-columns .embedded-content.spotify {
            max-width: 100%;
            margin: 0;
            width: 100%;
        }

        /* iframe 投影片系統 */
        .slide.iframe-slide {
            padding: 0;
            justify-content: center !important;
            align-items: center !important;
        }

        .slide.iframe-slide .embedded-content {
            width: 100%;
            height: 100vh;
            margin: 0;
            border-radius: 0;
            box-shadow: none;
            border: none;
        }

        .slide.iframe-slide .embedded-content.html {
            width: 100%;
            height: 100vh;
            margin: 0;
            border-radius: 0;
            box-shadow: none;
            border: none;
        }

        /* 影片投影片系統 */
        .slide.video-slide {
            padding: 2vw;
            align-items: center !important;
            justify-content: center !important;
        }

        .slide.video-slide h3 {
            width: 100%;
            max-width: none;
            text-align: center;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 400;
            color: var(--text-color);
        }

        .video-container {
            width: 80%;
            max-width: 800px;
            height: auto;
            aspect-ratio: 16 / 9;
            margin-top: 20px;
            border: 1px solid var(--line-color);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        /* 提示詞區塊 */
        /* Prompt 區塊包裝容器 */
        .prompt-wrapper {
            max-width: 900px;
            margin: 1.5rem auto;
            border: 1px solid var(--line-color); /* #d1d1c2 - 大地色邊框 */
            border-radius: 8px;
            overflow: hidden;
            background: rgba(245, 244, 240, 0.5); /* var(--bg-color) 50% 透明度 - 大地色背景 */
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.08); /* 使用大地色陰影 */
        }

        /* Prompt 標題區域 */
        .prompt-header {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding: 0.8rem 1rem;
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white (中性大地色) */
            border-bottom: 1px solid var(--line-color); /* #d1d1c2 - 大地色邊框 */
        }

        .prompt-block {
            background: rgba(234, 235, 230, 0.3); /* var(--header-bg) 30% 透明度 - 大地色背景 */
            border-left: 4px solid var(--accent-color); /* #9A948C - 大地色強調邊框 */
            padding: 1.5rem;
            margin: 0;
            border-radius: 0;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.9rem, 1.8vw, 1.2rem);
            line-height: 1.8;
            color: var(--text-color); /* #3D3A37 - Dark, soft brown/gray (大地色) */
            white-space: pre-wrap; /* 保留換行和空格 */
            word-wrap: break-word;
            overflow-x: auto;
            overflow-y: auto;
            max-height: 70vh;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin; /* Firefox scrollbar 樣式 */
            scrollbar-color: var(--accent-color) var(--bg-color); /* thumb track */
        }

        /* Prompt 區塊 Scrollbar 樣式 - 使用大地色系（與 code-block 一致） */
        .prompt-block::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        .prompt-block::-webkit-scrollbar-track {
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white (大地色軌道) */
            border-radius: 6px;
        }

        .prompt-block::-webkit-scrollbar-thumb {
            background: var(--accent-color); /* #9A948C - Muted stone gray (大地色滑塊) */
            border-radius: 6px;
            border: 2px solid var(--bg-color);
        }

        .prompt-block::-webkit-scrollbar-thumb:hover {
            background: var(--highlight-color); /* #8c867b - 更深的大地色 (hover 狀態) */
        }

        /* Markdown 格式樣式 */
        .prompt-block h2 {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            font-weight: 600;
            color: var(--accent-color);
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--line-color);
            font-family: 'Courier New', monospace;
        }

        .prompt-block h2:first-child {
            margin-top: 0;
        }

        .prompt-block strong {
            color: var(--accent-color);
            font-weight: 600;
        }

        .prompt-block ul {
            list-style: none;
            padding-left: 0;
            margin: 1rem 0;
        }

        .prompt-block li {
            margin-bottom: 0.6rem;
            padding-left: 1.2em;
            position: relative;
        }

        .prompt-block li::before {
            content: '- ';
            color: var(--accent-color);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* 程式碼區塊 */
        .code-block {
            background: rgba(245, 244, 240, 0.5); /* var(--bg-color) 50% 透明度 - 大地色背景 */
            border: 1px solid var(--line-color); /* #d1d1c2 - 大地色邊框 */
            border-radius: 8px;
            padding: 0;
            margin: 1rem 0;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            color: var(--text-color); /* #3D3A37 - Dark, soft brown/gray (大地色) */
            max-width: 100%;
            width: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.08); /* 使用大地色陰影 */
        }

        .code-block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 1rem;
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white, like aged paper (中性大地色) */
            border-bottom: 1px solid var(--line-color); /* #d1d1c2 - 大地色邊框 */
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }

        .code-block-header p {
            margin: 0;
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: var(--text-color); /* #3D3A37 - Dark, soft brown/gray (大地色) */
            font-family: var(--font-family);
        }

        .code-block pre {
            margin: 0;
            padding: 1rem;
            overflow-x: auto;
            overflow-y: auto;
            max-height: 70vh;
            background: rgba(234, 235, 230, 0.3); /* var(--header-bg) 30% 透明度 - 大地色背景 */
            font-family: 'Courier New', monospace;
            font-size: clamp(0.75rem, 1.2vw, 0.95rem);
            line-height: 1.5;
            -webkit-overflow-scrolling: touch;
        }

        /* Scrollbar 樣式 - 使用大地色系 */
        .code-block pre::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        .code-block pre::-webkit-scrollbar-track {
            background: var(--bg-color); /* #F5F4F0 - Warm, off-white (大地色軌道) */
            border-radius: 6px;
        }

        .code-block pre::-webkit-scrollbar-thumb {
            background: var(--accent-color); /* #9A948C - Muted stone gray (大地色滑塊) */
            border-radius: 6px;
            border: 2px solid var(--bg-color);
        }

        .code-block pre::-webkit-scrollbar-thumb:hover {
            background: var(--highlight-color); /* #8c867b - 更深的大地色 (hover 狀態) */
        }

        /* Firefox scrollbar 樣式 */
        .code-block pre {
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) var(--bg-color); /* thumb track */
        }

        .code-block code {
            display: block;
            white-space: pre;
            word-wrap: normal;
            overflow-wrap: normal;
            color: var(--text-color);
            background: transparent;
            padding: 0;
            border-radius: 0;
            font-family: 'Courier New', monospace;
        }

        /* 複製按鈕 - 使用大地色系 */
        .copy-btn {
            background: rgba(154, 148, 140, 0.1); /* var(--accent-color) 10% 透明度 - 大地色背景 */
            border: 1px solid var(--accent-color); /* #9A948C - Muted stone gray (大地色邊框) */
            color: var(--accent-color); /* #9A948C - 大地色文字 */
            font-size: clamp(0.85rem, 1.5vw, 1rem);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-family);
            opacity: 0.9;
        }

        .copy-btn:hover {
            background-color: var(--accent-color); /* #9A948C - 大地色背景 */
            color: var(--bg-color); /* #F5F4F0 - Warm, off-white (大地色文字) */
            opacity: 1;
            border-color: var(--highlight-color); /* #8c867b - 更深的大地色邊框 */
        }

        .copy-btn:active {
            transform: scale(0.98);
            background-color: var(--highlight-color); /* #8c867b - 更深的大地色 */
        }

        .copy-btn.copied {
            background-color: var(--highlight-color); /* #8c867b - 更深的大地色背景 */
            color: var(--bg-color); /* #F5F4F0 - Warm, off-white (大地色文字) */
            border-color: var(--highlight-color);
            opacity: 1;
        }

        .copy-btn svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        code {
            background: rgba(0, 0, 0, 0.05);
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: var(--accent-color);
        }

        /* SVG 圖形系統 */
        .svg-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: auto;
        }

        .svg-responsive {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
        }

        /* 投影片圖片樣式系統 - 符合 style_1116.md 規範 */
        .slide-image {
            max-width: 100%;
            max-height: 60vh;
            height: auto;
            border: 1px solid var(--line-color); /* #d1d1c2 - 大地色邊框 */
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.1); /* 使用大地色陰影 */
            object-fit: contain;
            margin: 1rem 0;
            display: block;
        }

        /* 圖片網格系統 - 符合 style_1116.md 規範 */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px; /* 圖片之間的間距固定為 20px */
            width: 100%;
            max-width: 900px;
            margin: 9rem auto 2rem; /* 進一步增加上方間距，避免與 prompt 重疊 */
            padding: 0 2vw;
            box-sizing: border-box;
        }

        /* 圖片容器 - 固定大小，比圖片多 5%，縮小 30% */
        .image-container {
            width: 100%;
            max-width: 420px; /* 600px * 0.7 = 420px (縮小 30%) */
            margin: 0 auto;
            padding: 2.5%; /* 上下左右各 2.5%，總共 5% */
            background: var(--bg-color); /* 大地色背景 */
            border: 1px solid var(--line-color); /* 大地色邊框 */
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(61, 58, 55, 0.1); /* 大地色陰影 */
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            /* 移除 transform: scale，直接使用縮小後的尺寸，這樣 gap 才能正常顯示 */
        }

        .image-grid .image-container {
            padding: 2.5%;
        }

        .image-grid .slide-image {
            margin: 0;
            width: 100%;
            height: auto;
            max-height: none;
            border: none; /* 移除圖片本身的邊框，由容器提供 */
            border-radius: 4px;
            box-shadow: none; /* 移除圖片本身的陰影，由容器提供 */
            display: block;
        }

        /* 響應式設計 */
        @media (max-width: 767px) {
            .nav {
                width: 95%;
                left: 2.5%;
            }

            .nav-btn {
                width: 44px;
                height: 44px;
                font-size: clamp(1.2rem, 2.5vw, 1.6rem);
                opacity: 0.6;
            }

            .two-columns, .bunch-word-container, .content-grid {
                grid-template-columns: 1fr;
            }

            .two-columns > div, .content-section {
                width: 100%;
            }

            .slide.video-slide .video-container {
                margin: 10px 0;
                width: 90%;
                max-width: 450px;
            }

            .bunch-word-container {
                padding: 2vh 3vw;
            }

            .bunch-word-container h2 {
                font-size: clamp(1.3rem, 3vw, 1.6rem);
                margin-bottom: 2vh;
                margin-top: 1vh;
            }

            .step-card {
                padding: 1.5rem;
            }

            .prompt-wrapper {
                margin: 1rem auto;
                border-radius: 6px;
            }

            .prompt-header {
                padding: 0.6rem 0.8rem;
            }

            .prompt-block {
                padding: 1rem;
                font-size: clamp(0.85rem, 1.5vw, 1rem);
            }

            .svg-container {
                overflow-x: auto;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .svg-responsive {
                min-width: 100%;
                min-height: 100%;
            }

            .slide-image {
                max-width: 95%;
                max-height: 50vh;
            }

            .image-grid {
                gap: 20px; /* 手機版也使用 20px 間距 */
                padding: 0 1vw;
                margin: 6rem auto 1.5rem; /* 進一步增加上方間距，避免與 prompt 重疊 */
            }

            .image-container {
                max-width: 100%;
                padding: 2.5%;
                /* 移除 transform: scale，直接使用縮小後的尺寸 */
            }

            .code-block {
                margin: 1rem 0;
                border-radius: 6px;
            }

            .code-block-header {
                padding: 0.6rem 0.8rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .code-block-header p {
                font-size: clamp(0.9rem, 1.8vw, 1rem);
            }

            .copy-btn {
                width: 100%;
                justify-content: center;
                padding: 0.6rem;
                font-size: clamp(0.8rem, 1.5vw, 0.95rem);
            }

            .code-block pre {
                padding: 0.8rem;
                font-size: clamp(0.7rem, 1.1vw, 0.85rem);
                max-height: 60vh;
            }
        }

        @media (min-width: 768px) and (max-width: 1024px) {
            .two-columns, .content-grid {
                grid-template-columns: 1fr 1fr;
                gap: 3vw;
            }
        }

        /* 特殊樣式 */
        .highlight-box {
            background: rgba(154, 148, 140, 0.1);
            border: 2px solid var(--accent-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            max-width: 800px;
        }

        .emoji-large {
            font-size: clamp(2rem, 4vw, 3rem);
            margin: 0 0.5rem;
        }

        .checklist {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 700px;
            margin: 1rem auto;
        }

        .checklist li {
            margin-bottom: 1rem;
            padding-left: 2.5em;
            position: relative;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
        }

        .checklist li::before {
            content: '☐';
            position: absolute;
            left: 0;
            font-size: 1.5em;
            color: var(--accent-color);
        }
    </style>
</head>
<body>
    <div class="slides-container">
        <!-- Slide 1: 課程封面 -->
        <section class="slide active">
            <h1>數位時代的深呼吸</h1>
            <p class="slide-subtitle">從腦科學原理到打造你的專屬放鬆 App</p>
        </section>

        <!-- 介紹 正念 -->
        <section class="slide">
            <h2>正念的詞源</h2>
            <ul>
                <li><strong>詞源</strong>：現代英語「Mindfulness」對應古印度巴利文「Sati」</li>
                <li><strong>Sati 原意</strong>：記憶、回想、銘記</li>
                <li><strong>核心概念</strong>：「記住當下」，保持對當前身心現象的持續性覺知</li>
                <li><strong>特質</strong>：動態記憶，強調在每一個剎那中保持覺知的連續性</li>
            </ul>
        </section>

        <!-- 正念並非佛教獨有 -->
        <section class="slide scrollable">
            <h2>正念的多元文化背景</h2>
            <div class="bunch-word-container full-page-scroll">
                <div>
                    <div class="content-section" style="margin-top: 2rem; margin-bottom: 1.5rem;">
                        <h4>吠陀與印度教背景</h4>
                        <ul>
                            <li>佛教深受吠陀（Vedic）哲學影響</li>
                            <li>佛陀出生於印度教家庭</li>
                            <li>早期哲學探討與奧義書（Upanishads）思想有深刻對話</li>
                            <li>兩者都強調透過內觀（Insight）超越表層感官經驗</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color);">
                            參考資料：<a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC10063990/" target="_blank" style="color: var(--accent-color); text-decoration: underline;">PMC - Mindfulness Research</a>
                        </p>
                    </div>



                    <div class="content-section">
                        <h4>禪宗（Zen）與數息觀</h4>
                        <ul>
                            <li>正念呼吸在中國發展為「禪」（Chan）</li>
                            <li>在日本演變為「Zen」</li>
                            <li>日本禪宗發展出「數息觀」（Susokukan）</li>
                            <li>強調透過計數呼吸統一意志與氣息</li>
                        </ul>
                        <p style="margin-top: 1rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color);">
                            參考資料：<a href="https://plato.stanford.edu/entries/japanese-zen/#TheAdjMin" target="_blank" style="color: var(--accent-color); text-decoration: underline;">Stanford Encyclopedia - Japanese Zen</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section class="slide">
            <h2>從宗教概念到心理學術語</h2>
                <ul>
                    <li><strong>1881 年</strong>：英國駐斯里蘭卡裁判官 Thomas William Rhys Davids 首次將「Sati」對譯為「Mindfulness」</li>
                    <li><strong>歷史意義</strong>：將宗教概念轉化為描述心理狀態的世俗詞彙</li>
                    <li><strong>其他翻譯</strong>：也曾被譯為「專注」（Attention）或「自我沈著」（Self-possession）</li>
                    <li><strong>最終標準</strong>：Mindfulness 成為主流翻譯</li>
                </ul>
                <p style="margin-top: 1.5rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color); text-align: left;">
                    參考資料：<a href="https://psychcentral.com/lib/a-brief-history-of-mindfulness-in-the-usa-and-its-impact-on-our-lives" target="_blank" style="color: var(--accent-color); text-decoration: underline;">PsychCentral - A Brief History of Mindfulness</a>
                </p>
            </div>
        </section>


        <!-- 以認知神經科學的角度來看正念 -->
        <section class="slide scrollable">
            <h2>從心理學到認知神經科學</h2>
            <div class="two-columns" style="margin-top: 2rem; align-items: center;">
                <div>
                    <ul>
                        <li><strong>關鍵人物</strong>：分子生物學博士喬·卡巴金（Jon Kabat-Zinn）</li>
                        <li><strong>背景</strong>：MIT 求學期間接觸佛教哲學與禪修</li>
                        <li><strong>1979 年</strong>：在麻省大學醫學院創立「減壓門診」（Stress Reduction Clinic）</li>
                        <li><strong>MBSR</strong>：開發「正念減壓課程」（Mindfulness-Based Stress Reduction）</li>
                    </ul>
                </div>
                <div>
                    <img src="../../pic/w12/book-kabat-zinn.png" alt="喬·卡巴金" class="svg-responsive" style="width: 100%; height: auto; border-radius: 8px;">
                </div>
            </div>
        </section>

        <!-- 插入 youtube 影片 -->
        <section class="slide video-slide">
            <h4>當代正念之父—卡巴金博士與台灣正念工坊精華片段</h4>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/BKmzAdEZt0M"
                        title="YouTube video player"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
            </div>
        </section>

        <!-- slide 介紹正念呼吸 -->
        <section class="slide">
            <h2>正念呼吸</h2>
            <div style="max-width: 800px; margin-top: 2rem;">
                <p>正念呼吸是一種呼吸練習
                    <br>旨在幫助人們放鬆身心，提高注意力，減少壓力</p>
            </div>
        </section>

        <!-- Slide 4: 這是玄學嗎？不，這是醫學 -->
        <section class="slide scrollable">
            <h2>呼吸背後的生理機制 (Physiology)</h2>
            <div class="two-columns" style="margin-top: 2rem;">
                <div class="content-section">
                    <h4>交感神經系統<br>（Sympathetic Nervous System, SNS）</h4>
                    <p><strong>油門</strong></p>
                    <h5>「戰鬥或逃跑」</h5>
                    <p>當感知到威脅時，導致瞳孔放大、心率加速、支氣管擴張、消化抑制，並促使腎上腺釋放皮質醇（Cortisol）和腎上腺素（Adrenaline/Epinephrine）。</p>
                </div>
                <div class="content-section">
                    <h4>副交感神經系統<br>（Parasympathetic Nervous System, PNS）</h4>
                    <p><strong>煞車</strong></p>
                    <h5>「放鬆與修復」</h5>
                    <p>當身體處於休息狀態時，導致瞳孔縮小、心率減慢、支氣管收縮、消化增強，並促使副交感神經釋放乙醯膽鹼（Acetylcholine）。</p>
                    <p style="margin-top: 1rem; font-size: clamp(0.9rem, 1.5vw, 1.1rem); color: var(--accent-color);">
                        參考資料：<a href="https://www.utoledo.edu/studentaffairs/counseling/anxietytoolbox/breathingandrelaxation.html" target="_blank" style="color: var(--accent-color); text-decoration: underline;">UToledo - Breathing and Relaxation</a>
                    </p>
                </div>
            </div>
        </section>

        <!-- Slide 5: 為什麼要「長吐氣」？ -->
        <section class="slide">
            <h2>為什麼要「長吐氣」？</h2>
            <h4>迷走神經的秘密</h4>
            <div style="max-width: 800px; margin-top: 2rem;">
                <p style="font-size: clamp(1.2rem, 2.2vw, 1.6rem); margin-bottom: 1.5rem;">
                    緩慢吐氣 → 刺激迷走神經 → 大腦接收安全訊號 → 心跳變慢。
                </p>
                <div class="highlight-box" style="margin: 2rem auto;">
                    <p style="font-size: clamp(1.4rem, 2.5vw, 1.9rem); text-align: center; margin: 0;">
                        <strong style="color: var(--accent-color);">黃金公式</strong><br>
                        吐氣時間 > 吸氣時間 = 啟動放鬆模式
                    </p>
                </div>
            </div>
        </section>
        <!-- 迷走神經 -->
        <section class="slide scrollable">
            <div class="svg-container">
                <img src="../../svg/w12-vangus-nerve.svg" alt="迷走神經" class="svg-responsive">
            </div>
        </section>

        <!-- Slide 3: 微體驗 -->
        <section class="slide">
            <h2>專注呼吸練習 90 秒</h2>
                <ol style="text-align: left; max-width: 500px; margin: 1.5rem auto;">
                    <li>手機靜音，螢幕朝下。</li>
                    <li>閉上眼睛。</li>
                    <li>什麼都不要做，只觀察呼吸。</li>
                </ol>
        </section>

        <!-- Slide 2: 你的 CPU 過熱了嗎？ -->
        <section class="slide">
            <h2>你剛剛產生了多少念頭？</h2>
            <div style="max-width: 800px; margin-top: 2rem; text-align: center; width: 100%;">
                <p>剛剛的 IG 限動？</p>
                <p>下一堂課的作業？</p>
                <p>學長姐早上靠背什麼？</p>
            </div>
        </section>

        <!-- 自我覺察與後設認知 -->
        <section class="slide">
            <h2>自我覺察與後設認知</h2>
            <ul style="margin-top: 2rem;">
                <li><strong>後設認知</strong>：培養「思考的思考」的能力（Metacognition）</li>
                <li><strong>認知解離</strong>：培養「觀察者」（Observer）的視角</li>
                <li><strong>核心機制</strong>：專注於呼吸，讓「我」與「我的念頭」之間的距離</li>
            </ul>
        </section>

        <!-- 心中有雜念非常正常 -->
        <section class="slide">
            <h1>正念呼吸的迷思</h1>
            <p style="margin-bottom: 1.5rem;"><strong>錯誤迷思</strong>：正念就是「停止思考」。</p>
            <p style="margin-bottom: 1.5rem;"><strong>正確期待</strong>：正念呼吸不是要消除雜念，而是要學會與雜念共存。</p>
        </section>

        <section class="slide">
            <h2>「專注」與「分心」的自我調節</h2>
            <ul>
                <li><strong>專注維持</strong>：專注於呼吸（背外側前額葉皮質 dlPFC 活躍）</li>
                <li><strong>分心</strong>：開始胡思亂想（預設模式網絡 DMN 啟動）</li>
                <li><strong>後設覺知</strong>：意識到自己分心了</li>
                <li><strong>轉移與重置</strong>：將注意力溫柔地帶回呼吸</li>
            </ul>
        </section>

        <!-- 4-7-8 呼吸法 -->
        <section class="slide">
            <h2>4-7-8 呼吸法</h2>
            <ol style="text-align: left; max-width: 500px; margin: 1.5rem auto;">
                <li>4 秒吸氣</li>
                <li>7 秒憋氣</li>
                <li>8 秒吐氣</li>
                <li>重複 10 次</li>
            </ol>
        </section>

        <!-- 478 呼吸法的好處 -->
        <section class="slide">
            <h2>4-7-8 呼吸法的好處</h2>
            <ul style="margin-top: 2rem;">
                <li>有效解緩焦慮、失眠問題</li>
                <li>適合在緊張、焦慮時使用</li>
                <li>提升專注力</li>
                <li>最佳練習時間：<strong>睡前</strong></li>
            </ul>
        </section>

        <!-- Slide 3: 微體驗 -->
        <section class="slide">
            <h2>4-7-8 呼吸練習</h2>
                <ol style="text-align: left; max-width: 500px; margin: 1.5rem auto;">
                    <li>手機靜音，螢幕朝下。</li>
                    <li>閉上眼睛。</li>
                    <li>什麼都不要做，只觀察呼吸。</li>
                </ol>
            <div class="embedded-content spotify">
                <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/album/0Sed2GgBXyUF4dPEynBy9v?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            </div>
        </section>
        <!-- 插入 html 呼吸工具練習 -->
        <section class="slide iframe-slide">
            <div class="embedded-content html">
                <iframe src="../../gen_stuff/mindful-breath.html" width="100%" height="100%" frameborder="0"></iframe>
            </div>
        </section>

        <!-- Slide 8: 用 AI 幫你做一個你自己的呼吸網站工具-->
        <section class="slide">
            <h2>手機版本的正念呼吸網頁工具</h2>
            <div class="two-columns" style="margin-top: 2rem; align-items: center;">
                <div class="content-section" style="background: var(--bg-color); border: none; box-shadow: none;">
                    <h3>Vibe Coding</h3>
                    <h5>網頁應用程式，讓 AI 幫你寫</h5>
                </div>
                <div>
                    <img src="../../pic/w12/gemini.png" alt="gemini" class="svg-responsive" style="width: 100%; height: auto; border-radius: 8px;">
                </div>
            </div>
        </section>

        <!-- Slide 9: 工具準備 -->
        <section class="slide">
            <h2>工具準備 (Setup)</h2>
            <h4 style="margin-top: 2rem; margin-bottom: 2rem;">請用手機瀏覽器開啟兩個分頁 (不要關閉)</h4>
            <div class="content-grid" style="margin-top: 2rem;">
                <div class="content-section">
                    <h4>1. AI 工程師</h4>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">Gemini App</p>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">Gemini (gemini.google.com)</p>
                </div>
                <div class="content-section">
                    <h4>2. 程式碼編輯器 (備案)</h4>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">
                        <a href="https://codeshack.io/html-viewer/" target="_blank" style="color: var(--accent-color); text-decoration: underline;">CodeShack HTML Viewer</a>
                    </p>
                    <p style="font-size: clamp(1.1rem, 2vw, 1.4rem);">
                        <a href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml_basic" target="_blank" style="color: var(--accent-color); text-decoration: underline;">W3Schools Tryit</a>
                    </p>
                </div>
            </div>
        </section>

        <!-- Slide 12: Phase 2 - 詠唱 -->
        <section class="slide scrollable">
            <h2>提示詞工程：製作網頁應用程式</h2>
            <div class="bunch-word-container">
                <div>
                    <div class="prompt-wrapper">
                        <div class="prompt-header">
                            <button class="copy-btn" onclick="copyCode(this)" data-code-id="gemini-prompt">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                <span>複製 Prompt</span>
                            </button>
                        </div>
                        <div class="prompt-block" id="gemini-prompt">你是一個專業的前端工程師。請幫我寫一個 **單一檔案 (Single HTML file)** 的正念呼吸網頁應用程式。

## 功能需求

- 畫面中間有一個 **[有質感的氣泡]**
- 這個圖形會隨著呼吸放大與縮小
- 預設節奏：吸氣 **[ 4 ]** 秒，閉氣 **[ 0 ]** 秒，吐氣 **[ 6 ]** 秒
- 泡泡上面有秒數倒數，且顏色會從吸氣的綠色、隨著秒數倒數漸漸黃色、紅色，顏色以低飽和度呈現
- 畫面上要有文字提示目前的狀態（吸氣中、吐氣中）
- 背景顏色要 **[深邃的夜空黑]**

## 技術限制

- 所有 CSS 和 JavaScript 都要寫在同一個 HTML 檔案裡，不要分開
- 程式碼要有清楚的中文註解，告訴我哪裡可以修改時間長度

請給我完整的程式碼，讓我可以直接複製，直接在 gemini 內給我一個開啟預覽網站的連結。</div>
                    </div>
                </div>
            </div>
            <!-- 插入多張圖表 -->
            <div class="image-grid">
                <div class="image-container">
                    <img src="../../pic/w12/1-pick-canvas.png" alt="1-pick-canvas" class="slide-image">
                </div>
                <div class="image-container">
                    <img src="../../pic/w12/2-input-prompt.png" alt="2-input-prompt" class="slide-image">
                </div>
                <div class="image-container">
                    <img src="../../pic/w12/3-in-app-browser.png" alt="3-in-app-browser" class="slide-image">
                </div>
            </div>
        </section>

        <!-- 產出程式碼 -->
        <section class="slide scrollable">
            <h2>程式碼範例</h2>
            <div style="max-width: 100%; width: 100%; padding: 0 2vw; margin-top: 2rem; box-sizing: border-box;">
                <div class="code-block">
                    <div class="code-block-header">
                        <button class="copy-btn" onclick="copyCode(this)" data-code-id="breathing-code">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                            <span>複製程式碼</span>
                        </button>
                    </div>
                    <pre><code id="breathing-code">&lt;!DOCTYPE html&gt;
                    &lt;html lang="zh-TW"&gt;
                    &lt;head&gt;
                        &lt;meta charset="UTF-8"&gt;
                        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
                        &lt;title&gt;正念呼吸 (Mindfulness Breathing)&lt;/title&gt;
                        &lt;style&gt;
                            /* * =========================================
                            * 第一部分：視覺風格設定 (CSS)
                            * =========================================
                            */

                            :root {
                                /* 顏色變數 - 低飽和度設定 */
                                --color-blue: hsl(210, 40%, 60%);   /* 吸氣起始色 (冷靜) */
                                --color-yellow: hsl(45, 40%, 60%);  /* 過渡色 (溫暖) */
                                --color-red: hsl(0, 40%, 65%);      /* 結束前提示色 (沉穩) */

                                --bg-dark: #0b1016; /* 深邃夜空黑 */
                                --bg-light: #1b2330; /* 漸層用稍亮黑 */

                                --bubble-size: 280px; /* 基礎泡泡大小 */
                                --font-main: "Helvetica Neue", Arial, sans-serif;
                            }

                            * {
                                box-sizing: border-box;
                                margin: 0;
                                padding: 0;
                                user-select: none; /* 防止文字被選取影響體驗 */
                            }

                            body {
                                background: radial-gradient(circle at center, var(--bg-light) 0%, var(--bg-dark) 100%);
                                height: 100vh;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                flex-direction: column;
                                font-family: var(--font-main);
                                color: rgba(255, 255, 255, 0.85);
                                overflow: hidden;
                            }

                            /* 中央容器 */
                            .container {
                                position: relative;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                flex-direction: column;
                            }

                            /* * 有質感的氣泡 (The Bubble)
                            * 使用多層 box-shadow 創造玻璃擬態/微光質感
                            */
                            .bubble {
                                width: var(--bubble-size);
                                height: var(--bubble-size);
                                border-radius: 50%;
                                background: rgba(255, 255, 255, 0.03); /* 極淡的透明底 */

                                /* 關鍵：使用 backdrop-filter 增加質感 (毛玻璃效果) */
                                backdrop-filter: blur(8px);
                                -webkit-backdrop-filter: blur(8px);

                                /* 內外陰影創造立體感 */
                                box-shadow:
                                    inset 0 0 40px rgba(255, 255, 255, 0.05),
                                    0 0 20px rgba(0, 0, 0, 0.2),
                                    0 0 60px var(--current-color, var(--color-blue)); /* 動態光暈 */

                                display: flex;
                                justify-content: center;
                                align-items: center;
                                position: relative;
                                z-index: 10;

                                /* 動畫過渡設定：平滑的呼吸感 */
                                /* transform 會由 JS 動態控制時間 */
                                transition: transform ease-in-out, box-shadow 1s linear;
                            }

                            /* 倒數計時文字 */
                            .timer-text {
                                font-size: 5rem;
                                font-weight: 200;
                                color: #ffffff;
                                text-shadow: 0 2px 10px rgba(0,0,0,0.3);
                                font-variant-numeric: tabular-nums; /* 防止數字跳動 */
                            }

                            /* 狀態文字 (吸氣、吐氣) */
                            .status-text {
                                margin-top: 40px;
                                font-size: 1.5rem;
                                letter-spacing: 4px; /* 增加字距，讓文字看起來更寬鬆、舒適 */
                                font-weight: 300;
                                opacity: 0;
                                transform: translateY(10px);
                                transition: opacity 1s ease, transform 1s ease;
                                color: var(--current-color, var(--color-blue)); /* 跟隨泡泡顏色 */
                            }

                            /* 狀態文字顯示時的 class */
                            .status-text.visible {
                                opacity: 0.8;
                                transform: translateY(0);
                            }

                            /* * 背景裝飾：星空微粒 (純視覺裝飾)
                            */
                            .star {
                                position: absolute;
                                background: white;
                                border-radius: 50%;
                                opacity: 0.2;
                                animation: twinkle 4s infinite ease-in-out;
                            }

                            @keyframes twinkle {
                                0%, 100% { opacity: 0.1; transform: scale(1); }
                                50% { opacity: 0.4; transform: scale(1.2); }
                            }

                        &lt;/style&gt;
                    &lt;/head&gt;
                    &lt;body&gt;

                        &lt;!-- 背景星空容器 --&gt;
                        &lt;div id="stars-container"&gt;&lt;/div&gt;

                        &lt;div class="container"&gt;
                            &lt;div class="bubble" id="bubble"&gt;
                                &lt;span class="timer-text" id="timer"&gt;Ready&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class="status-text" id="status"&gt;準備開始&lt;/div&gt;
                        &lt;/div&gt;

                        &lt;script&gt;
                            /**
                            * =========================================
                            * 第二部分：參數設定區 (可修改此處)
                            * =========================================
                            * 請在這裡修改時間長度 (單位：秒)
                            */
                            const CONFIG = {
                                inhaleTime: 4,  // 吸氣時間
                                holdTime: 0,    // 閉氣時間 (設為 0 會自動跳過)
                                exhaleTime: 6,  // 吐氣時間

                                // 呼吸時泡泡的縮放比例
                                scaleIn: 1.5,   // 吸氣結束時的大小 (1.5倍)
                                scaleOut: 1.0   // 吐氣結束時的大小 (原始大小)
                            };

                            /**
                            * =========================================
                            * 第三部分：核心邏輯 (JavaScript)
                            * =========================================
                            */

                            const bubble = document.getElementById('bubble');
                            const timerDisplay = document.getElementById('timer');
                            const statusDisplay = document.getElementById('status');

                            // 顏色轉換輔助函數 (HSL)
                            // 將剩餘時間映射到顏色區間：藍 -&gt; 黃 -&gt; 紅
                            function updateColor(progress) {
                                // progress: 1.0 (開始) -&gt; 0.0 (結束)
                                // 我們定義 HSL 色相環：藍色約 210, 黃色約 45, 紅色 0

                                let hue;
                                if (progress &gt; 0.5) {
                                    // 前半段：藍色 (210) 過渡到 黃色 (45)
                                    const p = (progress - 0.5) * 2;
                                    hue = 45 + (p * (210 - 45));
                                } else {
                                    // 後半段：黃色 (45) 過渡到 紅色 (0)
                                    const p = progress * 2;
                                    hue = 0 + (p * 45);
                                }

                                // 設定 CSS 變數，讓樣式即時更新
                                const color = `hsl(${hue}, 40%, 60%)`;
                                bubble.style.setProperty('--current-color', color);
                                statusDisplay.style.color = color;
                            }

                            // 執行單一階段 (吸氣、閉氣、吐氣) 的通用函數
                            function runPhase(duration, actionType, text) {
                                return new Promise(resolve =&gt; {
                                    if (duration &lt;= 0) {
                                        resolve();
                                        return;
                                    }

                                    // 1. 設定狀態文字
                                    statusDisplay.textContent = text;
                                    statusDisplay.classList.add('visible');

                                    // 2. 設定動畫與過渡時間
                                    bubble.style.transition = `transform ${duration}s ease-in-out, box-shadow 0.5s linear`;

                                    // 3. 執行縮放動作
                                    if (actionType === 'inhale') {
                                        bubble.style.transform = `scale(${CONFIG.scaleIn})`;
                                    } else if (actionType === 'exhale') {
                                        bubble.style.transform = `scale(${CONFIG.scaleOut})`;
                                    }

                                    // 4. 開始倒數計時器
                                    let remaining = duration;
                                    timerDisplay.textContent = remaining;

                                    // 初始顏色重置為藍色
                                    updateColor(1.0);

                                    const startTime = Date.now();
                                    const endTime = startTime + (duration * 1000);

                                    const timerInterval = setInterval(() =&gt; {
                                        const now = Date.now();
                                        const timeLeft = Math.max(0, Math.ceil((endTime - now) / 1000));
                                        const preciseProgress = Math.max(0, (endTime - now) / (duration * 1000));

                                        if (timerDisplay.textContent != timeLeft) {
                                            timerDisplay.textContent = timeLeft;
                                        }

                                        updateColor(preciseProgress);

                                        if (now &gt;= endTime) {
                                            clearInterval(timerInterval);
                                            resolve();
                                        }
                                    }, 16);
                                });
                            }

                            // 主要循環函數
                            async function startBreathingCycle() {
                                while (true) { // 無限循環
                                    // 吸氣 (Inhale) - 已移除 "中"
                                    await runPhase(CONFIG.inhaleTime, 'inhale', '吸氣 (Inhale)');

                                    // 閉氣 (Hold)
                                    if (CONFIG.holdTime &gt; 0) {
                                        await runPhase(CONFIG.holdTime, 'hold', '閉氣 (Hold)');
                                    }

                                    // 吐氣 (Exhale) - 已移除 "中"
                                    await runPhase(CONFIG.exhaleTime, 'exhale', '吐氣 (Exhale)');
                                }
                            }

                            // 初始化背景星空
                            function initStars() {
                                const container = document.getElementById('stars-container');
                                for(let i=0; i&lt;50; i++) {
                                    const star = document.createElement('div');
                                    star.className = 'star';
                                    const xy = Math.random() * 100;
                                    const duration = Math.random() * 3 + 2;
                                    const size = Math.random() * 2 + 1;

                                    star.style.left = `${Math.random() * 100}%`;
                                    star.style.top = `${Math.random() * 100}%`;
                                    star.style.width = `${size}px`;
                                    star.style.height = `${size}px`;
                                    star.style.animationDuration = `${duration}s`;

                                    container.appendChild(star);
                                }
                            }

                            // 程式進入點
                            window.onload = () =&gt; {
                                initStars();
                                setTimeout(() =&gt; {
                                    startBreathingCycle();
                                }, 1000);
                            };

                        &lt;/script&gt;
                    &lt;/body&gt;
                    &lt;/html&gt;</code></pre>
                </div>
            </div>
        </section>

        <!-- Slide 10: 網頁解剖學 I -->
        <section class="slide">
            <h2>網頁工具核心語言：HTML、CSS、JavaScript</h2>
            <div class="content-grid" style="margin-top: 2rem;">
                <div class="content-section">
                    <h4>HTML (結構)</h4>
                    <p><strong>功能</strong>：定義有什麼 (What?)</p>
                    <p style="margin-top: 1rem; font-size: clamp(1.3rem, 2.5vw, 1.8rem);">譬喻：<strong>骨架 (Skeleton)</strong></p>
                </div>
                <div class="content-section">
                    <h4>CSS (樣式)</h4>
                    <p><strong>功能</strong>：定義長什麼樣 (Looks?)</p>
                    <p style="margin-top: 1rem; font-size: clamp(1.3rem, 2.5vw, 1.8rem);">譬喻：<strong>皮膚與衣服 (Skin)</strong></p>
                </div>
                <div class="content-section">
                    <h4>JavaScript (行為)</h4>
                    <p><strong>功能</strong>：定義怎麼動 (Action?)</p>
                    <p style="margin-top: 1rem; font-size: clamp(1.3rem, 2.5vw, 1.8rem);">譬喻：<strong>肌肉與大腦 (Brain)</strong></p>
                </div>
            </div>
        </section>

        <!-- Slide 11: 網頁解剖學 II -->
        <section class="slide">
            <h2>網頁工具核心語言：案例對照</h2>
            <h4 style="margin-top: 2rem; margin-bottom: 1.5rem;">以我們的呼吸 App 為例</h4>
            <div style="max-width: 900px; margin: 0 auto; text-align: left;">
                <div class="content-section" style="margin-bottom: 1rem;">
                    <p><strong>HTML</strong> = 畫面上那個「氣泡」的存在 <code>&lt;div&gt;</code>。</p>
                </div>
                <div class="content-section" style="margin-bottom: 1rem;">
                    <p><strong>CSS</strong> = 背景是「黑色」的。</p>
                </div>
                <div class="content-section">
                    <p><strong>JS</strong> = 控制圓形「變色」與「4秒變大、8秒變小」的邏輯。</p>
                </div>
            </div>
        </section>

        <section class="slide scrollable">
            <h2>網頁工具核心語言：程式碼細節</h2>
            <h4 style="margin-top: 2rem; margin-bottom: 1.5rem;">之後如果還有課的話再多補充</h4>
            <div class="bunch-word-container">
                <div>
                    <div class="content-section" style="margin-bottom: 1.5rem;">
                        <h4>HTML (骨架與結構)</h4>
                        <p style="margin-top: 1rem; font-size: clamp(1.32rem, 2.2vw, 1.43rem);">
                            <strong>功能</strong>：定義網頁的「物理存在」，決定畫面上有哪些物件。
                        </p>
                        <ul style="text-align: left; margin-top: 1rem;">
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div id="stars-container"&gt;</code> - 背景層，用來放置 JS 動態生成的星星</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div class="container"&gt;</code> - 排版容器，確保內容在畫面正中央</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div class="bubble"&gt;</code> - 核心元件，隨著呼吸縮放的圓形氣泡</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;span id="timer"&gt;</code> - 動態數字，顯示倒數秒數</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>&lt;div id="status"&gt;</code> - 提示文字，顯示「吸氣 / 吐氣」狀態</li>
                        </ul>
                    </div>

                    <div class="content-section" style="margin-bottom: 1.5rem;">
                        <h4>CSS (皮膚與樣式)</h4>
                        <p style="margin-top: 1rem; font-size: clamp(1.32rem, 2.2vw, 1.43rem);">
                            <strong>功能</strong>：負責「美感體驗」，決定顏色、質感與動畫流暢度。
                        </p>
                        <ul style="text-align: left; margin-top: 1rem;">
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>:root { --color-blue... }</code> - 定義全域變數，控制呼吸的主題色調</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>backdrop-filter: blur(8px)</code> - 創造「毛玻璃」質感的關鍵語法</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>box-shadow</code> - 堆疊多層陰影，營造氣泡的立體光暈</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>transition: transform</code> - 讓 JS 改變大小時，過程是平滑而非生硬的</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>@keyframes twinkle</code> - 定義星星忽明忽滅的動畫規則</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>JavaScript (大腦與邏輯)</h4>
                        <p style="margin-top: 1rem; font-size: clamp(1.32rem, 2.2vw, 1.43rem);">
                            <strong>功能</strong>：負責「時間控制」，指揮 HTML 變形並計算倒數邏輯。
                        </p>
                        <ul style="text-align: left; margin-top: 1rem;">
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>const CONFIG</code> - <strong>控制室</strong>，在此設定吸氣 (4s) 與吐氣 (6s) 的時間</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>runPhase()</code> - 核心函數，處理單一階段的文字更新與動畫指令</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>updateColor()</code> - 數學計算，將剩餘時間映射為顏色（藍→黃→紅）</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>initStars()</code> - 隨機生成星星的位置與閃爍速度</li>
                            <li style="font-size: clamp(1.188rem, 1.98vw, 1.287rem);"><code>startBreathingCycle()</code> - 使用 <code>while(true)</code> 確保呼吸練習無限循環</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>



        <!-- Slide 14: 實作流程 -->
        <section class="slide hidden">
            <h2>實作流程 (Workflow)</h2>
            <div style="max-width: 800px; margin-top: 2rem;">
                <div class="step-card" style="margin-bottom: 1rem;">
                    <h4>Step 1 (Copy)</h4>
                    <p>在 Gemini 對話框右上角點擊「複製」。</p>
                </div>
                <div class="step-card" style="margin-bottom: 1rem;">
                    <h4>Step 2 (Paste)</h4>
                    <p>切換到 W3Schools 分頁，全選刪除舊內容，貼上新程式碼。</p>
                </div>
                <div class="step-card" style="margin-bottom: 1rem;">
                    <h4>Step 3 (Run)</h4>
                    <p>點擊綠色 <strong>Run</strong> 按鈕。</p>
                </div>
                <div class="step-card">
                    <h4>Step 4 (Experience)</h4>
                    <p>見證奇蹟。</p>
                </div>
            </div>
        </section>



        <!-- Slide 16.5: 作業需求說明 -->
        <section class="slide scrollable">
            <div class="bunch-word-container">
                <div>
                    <h1>作業需求說明</h1>
                    <p style="margin-top: 2rem; margin-bottom: 2rem; font-size: clamp(1.1rem, 2vw, 1.4rem);">
                        作業繳交：<a href="https://forms.gle/JhRrmnsk2kH5Mxv8A" target="_blank" style="color: var(--current-blue); text-decoration: underline;">Google Form</a> | <strong style="color: var(--color-red);">繳交期限：11/28 23:59 前</strong>
                    </p>
                    <div class="two-columns" style="margin-top: 2rem;">
                        <div class="content-section">
                            <h4>作業要求</h4>
                            <p style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);">請根據程式碼範例，進行任何你想要的調整與修改：</p>
                            <ul style="text-align: left; margin-top: 1rem; line-height: 1.8;">
                                <li style="font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>修改圖樣</strong>：目前程式碼中的氣泡是圓形，你可以改成其他幾何圖形（三角形、正方形、星形等）、圖案或符號（愛心、花朵、雲朵等），或調整顏色、大小、動畫效果。修改 CSS 中的 <code>.bubble</code> 樣式，或詢問 Gemini 如何改變圖樣。</li>
                                <li style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>調整呼吸節奏</strong>：根據你的個人需求，修改 <code>CONFIG</code> 物件中的時間參數（<code>inhaleTime</code>、<code>holdTime</code>、<code>exhaleTime</code>）。常見的呼吸節奏包括 4-0-6（基礎放鬆）、4-7-8（深度放鬆）、5-5-5（平衡節奏）等。記得遵循「吐氣時間 > 吸氣時間」的醫學原理，有助於啟動副交感神經系統。在作業中請說明你選擇的呼吸節奏及原因（例如：適合睡前放鬆、適合專注前準備等）。</li>
                                <li style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>加入音效（選做，加分項目）</strong>：加入音效提示，讓你可以閉眼練習，不用盯著螢幕。可以使用 Web Audio API 在 JavaScript 中加入音效播放功能，或使用音效檔案。建議在吸氣和吐氣開始時播放不同的提示音，使用簡短、溫和的音效，避免干擾呼吸節奏。可以詢問 Gemini「如何在 JavaScript 中播放音效？」或「如何使用 Web Audio API 產生提示音？」</li>
                                <li style="margin-top: 1rem; font-size: clamp(1rem, 1.8vw, 1.2rem);"><strong>分享連結並繳交</strong>：完成修改後，請將你的作品分享成公開連結，並將連結貼到 <a href="https://forms.gle/JhRrmnsk2kH5Mxv8A" target="_blank" style="color: var(--current-blue); text-decoration: underline;">Google Form</a>。</li>
                            </ul>
                        </div>
                        <div class="content-section" style="display: flex; align-items: center; justify-content: center;">
                            <img src="../../pic/w12/share-public-link.jpg" alt="GitHub Pages 分享連結範例" style="width: 100%; max-width: 250px; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 導航按鈕 -->
        <div class="nav">
            <button id="prev" class="nav-btn">&#8249;</button>
            <button id="next" class="nav-btn">&#8250;</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = Array.from(document.querySelectorAll('.slide:not(.hidden)'));
            const totalSlides = slides.length;
            let currentSlide = 0;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                showSlide(currentSlide);
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                showSlide(currentSlide);
            }

            document.getElementById('next').addEventListener('click', nextSlide);
            document.getElementById('prev').addEventListener('click', prevSlide);

            // 鍵盤支援
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevSlide();
                }
            });

            // 觸控滑動支援（手機版）
            let touchStartX = 0;
            let touchEndX = 0;

            document.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });

            document.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;

                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        // 向左滑動，下一張
                        nextSlide();
                    } else {
                        // 向右滑動，上一張
                        prevSlide();
                    }
                }
            }

            // 初始化顯示第一張投影片
            showSlide(0);
        });

        // 複製程式碼功能
        function copyCode(button) {
            const codeId = button.getAttribute('data-code-id');
            const codeElement = document.getElementById(codeId);

            if (!codeElement) {
                console.error('找不到程式碼元素');
                return;
            }

            // 取得程式碼文字內容（移除 HTML 實體編碼）
            let codeText = codeElement.textContent || codeElement.innerText;

            // 使用 Clipboard API 複製
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(codeText).then(() => {
                    // 成功複製
                    const originalText = button.querySelector('span').textContent;
                    button.classList.add('copied');
                    button.querySelector('span').textContent = '已複製！';

                    // 2 秒後恢復原狀
                    setTimeout(() => {
                        button.classList.remove('copied');
                        button.querySelector('span').textContent = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error('複製失敗:', err);
                    fallbackCopy(codeText, button);
                });
            } else {
                // 降級方案：使用傳統方法
                fallbackCopy(codeText, button);
            }
        }

        // 降級複製方案（適用於舊瀏覽器）
        function fallbackCopy(text, button) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    const originalText = button.querySelector('span').textContent;
                    button.classList.add('copied');
                    button.querySelector('span').textContent = '已複製！';

                    setTimeout(() => {
                        button.classList.remove('copied');
                        button.querySelector('span').textContent = originalText;
                    }, 2000);
                } else {
                    alert('複製失敗，請手動選取並複製程式碼');
                }
            } catch (err) {
                console.error('複製失敗:', err);
                alert('複製失敗，請手動選取並複製程式碼');
            }

            document.body.removeChild(textArea);
        }
    </script>
</body>
</html>

